<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="article-title"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">П</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">олное руководство по Java 8 Stream API в картинках и примерах</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">9.08.2017 / 14:35 от </span><a href="https://annimon.com/ablogs/?act=user&amp;id=1"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">aNNiMON</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1596896639pubjgxcqwt.png" /><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span><a href="https://annimon.com/ablogs/?act=album&amp;id=326"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Java</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">   </span><a href="https://annimon.com/str/search.php?category=article-tags&amp;q=java"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">java</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">, </span><a href="https://annimon.com/str/search.php?category=article-tags&amp;q=java+8"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">java 8</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">, </span><a href="https://annimon.com/str/search.php?category=article-tags&amp;q=stream+api"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">stream api</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">, </span><a href="https://annimon.com/str/search.php?category=article-tags&amp;q=collector"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">collector</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">, </span><a href="https://annimon.com/str/search.php?category=article-tags&amp;q=flatmap"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">flatmap</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">, </span><a href="https://annimon.com/str/search.php?category=article-tags&amp;q=interactive"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">interactive</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="content"></a><a href="javascript:showspoiler('a4232','b4232','c4232')"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">С</span></a><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">одержание</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />С момента выхода Java 8 я практически сразу начал пользоваться Stream API, так как функциональный подход обработки данных мне пришелся по нраву. Хотелось пользоваться им везде, поэтому я начал разрабатывать библиотеку </span><a href="https://github.com/aNNiMON/Lightweight-Stream-API"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Lightweight-Stream-API</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">, которая привносит подобный подход в ранние версии Java. Также меня интересовало внутреннее устройство стримов. За это время накопилось достаточно опыта и теперь я спешу им поделиться.<br /><br />В статье, помимо описания стримов, приводятся визуальные демонстрации работы операторов, примеры и задачи для самопроверки. Также затронуты нововведения, касающиеся стримов в Java 9.<br />Дабы не путать стримы (Stream) с I/O потоками (InputStream/OutputStream) и тредами/нитями/потоками (Thread), я буду придерживаться англоязычного именования в транслите и называть Stream стримом.<br /><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="stream"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">1</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">. Stream</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Stream — это объект для универсальной работы с данными. Мы указываем, какие операции хотим провести, при этом не заботясь о деталях реализации. Например, взять элементы из списка сотрудников, выбрать тех, кто младше 40 лет, отсортировать по фамилии и поместить в новый список. Или чуть сложнее, прочитать все json-файлы, находящиеся в папке books, десериализировать в список объектов книг, обработать элементы всех этих списков, а затем сгруппировать книги по автору.<br /><br />Данные могут быть получены из источников, коими являются коллекции или методы, поставляющие данные. Например, список файлов, массив строк, метод range() для числовых промежутков и т.д. То есть, стрим использует существующие коллекции для получения новых элементов, это ни в коем случае не новая структура данных.<br />К данным затем применяются операторы. Например, взять лишь некоторые элементы (filter), преобразовать каждый элемент (map), посчитать сумму элементов или объединить всё в один объект (reduce).<br /></span><img src="image1596896639jhqnyy73ex.png" /><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Операторы можно разделить на две группы:<br />     - Промежуточные (intermediate) — обрабатывают поступающие элементы и возвращают стрим. Промежуточных операторов в цепочке обработки элементов может быть много.<br />     - Терминальные (terminal) — обрабатывают элементы и завершают работу стрима, так что терминальный оператор в цепочке может быть только один.<br /><br /><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="stream-instantiation"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">2</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">. Получение объекта Stream</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Пока что хватит теории. Пришло время посмотреть, как создать или получить объект java.util.stream.Stream.<br />  - Пустой стрим: </span><span style=" font-family:'Sans Serif'; font-size:9pt; background-color:#ffebee;">Stream.empty() // Stream&lt;String&gt;</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />  - Стрим из List: </span><span style=" font-family:'Sans Serif'; font-size:9pt; background-color:#ffebee;">list.stream() // Stream&lt;String&gt;</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />  - Стрим из Map: </span><span style=" font-family:'Sans Serif'; font-size:9pt; background-color:#ffebee;">map.entrySet().stream() // Stream&lt;Map.Entry&lt;String, String&gt;&gt;</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />  - Стрим из массива: </span><span style=" font-family:'Sans Serif'; font-size:9pt; background-color:#ffebee;">Arrays.stream(array) // Stream&lt;String&gt;</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />  - Стрим из указанных элементов: </span><span style=" font-family:'Sans Serif'; font-size:9pt; background-color:#ffebee;">Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;) // Stream&lt;String&gt;</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br />А вот и пример:<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">public</span> <span style=" color:#0000e6;">static</span> <span style=" color:#0000e6;">void</span> main<span style=" color:#000000;">(</span>String<span style=" color:#000000;">[]</span> args<span style=" color:#000000;">)</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    List<span style=" color:#008000;">&lt;</span>String<span style=" color:#008000;">&gt;</span> list <span style=" color:#008000;">=</span> Arrays.<span style=" color:#000000;">stream(</span>args<span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">filter(</span>s <span style=" color:#008000;">-&gt;</span> s.<span style=" color:#000000;">length()</span> <span style=" color:#008000;">&lt;=</span> <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">toList())</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">}</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />В данном примере источником служит метод Arrays.stream, который из массива args делает стрим. Промежуточный оператор filter отбирает только те строки, длина которых не превышает два. Терминальный оператор collect собирает полученные элементы в новый список.<br /><br />И ещё один пример:<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">120</span>, <span style=" color:#e02929;">410</span>, <span style=" color:#e02929;">85</span>, <span style=" color:#e02929;">32</span>, <span style=" color:#e02929;">314</span>, <span style=" color:#e02929;">12</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">filter(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">&lt;</span> <span style=" color:#e02929;">300</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">map(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">+</span> <span style=" color:#e02929;">11</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">limit(</span><span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">print)</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Здесь уже три промежуточных оператора:<br />  - filter — отбирает элементы, значение которых меньше 300,<br />  - map — прибавляет 11 к каждому числу,<br />  - limit — ограничивает количество элементов до 3.<br /><br />Терминальный оператор forEach применяет функцию print к каждому приходящему элементу.<br />Ваш браузер не поддерживает это видео. <br />На ранних версиях Java этот пример выглядел бы так:<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">int</span><span style=" color:#000000;">[]</span> arr <span style=" color:#008000;">=</span> <span style=" color:#000000;">{</span><span style=" color:#e02929;">120</span>, <span style=" color:#e02929;">410</span>, <span style=" color:#e02929;">85</span>, <span style=" color:#e02929;">32</span>, <span style=" color:#e02929;">314</span>, <span style=" color:#e02929;">12</span><span style=" color:#000000;">}</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">int</span> count <span style=" color:#008000;">=</span> <span style=" color:#e02929;">0</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">for</span> <span style=" color:#000000;">(</span><span style=" color:#0000e6;">int</span> x <span style=" color:#008000;">:</span> arr<span style=" color:#000000;">)</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">if</span> <span style=" color:#000000;">(</span>x <span style=" color:#008000;">&gt;=</span> <span style=" color:#e02929;">300</span><span style=" color:#000000;">)</span> <span style=" color:#0000e6;">continue</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    x <span style=" color:#008000;">+=</span> <span style=" color:#e02929;">11</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    count<span style=" color:#008000;">++;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">if</span> <span style=" color:#000000;">(</span>count <span style=" color:#008000;">&gt;</span> <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span> <span style=" color:#0000e6;">break</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">print(</span>x<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">}</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">С увеличением числа операторов код в ранних версиях усложнялся бы на порядок, не говоря уже о том, что разбить вычисления на несколько потоков при таком подходе было бы крайне непросто.<br /><br /><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="how-stream-works"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">3</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">. Как работает стрим</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />У стримов есть некоторые особенности. Во-первых, обработка не начнётся до тех пор, пока не будет вызван терминальный оператор. list.stream().filter(x -&gt; x &gt; 100); не возьмёт ни единого элемента из списка. Во-вторых, стрим после обработки нельзя переиспользовать.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream<span style=" color:#008000;">&lt;</span>String<span style=" color:#008000;">&gt;</span> stream <span style=" color:#008000;">=</span> list.<span style=" color:#000000;">stream()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">stream.<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">stream.<span style=" color:#000000;">filter(</span>s <span style=" color:#008000;">-&gt;</span> s.<span style=" color:#000000;">contains(</span><span style=" color:#ce7b00;">&quot;Stream API&quot;</span><span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">stream.<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Код на второй строке выполнится, а вот на третьей выбросит исключение </span><span style=" font-family:'Sans Serif'; font-size:9pt; background-color:#ffebee;">java.lang.IllegalStateException: stream has already been operated upon or closed</span><span style=" font-family:'Sans Serif'; font-size:9pt;">.<br /><br />Исходя из первой особенности, делаем вывод, что обработка происходит от терминального оператора к источнику. Это действительно так и это удобно. Мы можем в качестве источника использовать генерируемую бесконечную последовательность, скажем, факториала или чисел Фибоначчи, но обрабатывать лишь некоторую её часть.<br /><br />Ваш браузер не поддерживает это видео. <br />Пока мы не присоединили терминальный оператор, доступа к источнику не проводилось. Как только появился терминальный оператор forEach, он стал запрашивать элементы у стоящего перед ним оператора limit. Тот в свою очередь обращается к map, map к filter, а filter уже обращается к источнику. Затем элементы поступают в прямом порядке: источник, filter, map, limit и forEach.<br />Пока какой-либо из операторов не обработает элемент должным образом, новые запрошены не будут.<br />Как только через оператор limit прошло 3 элемента, он переходит в закрытое состояние и больше не будет запрашивать элементы у map. forEach запрашивает очередной элемент, но limit сообщает, что больше не может поставить элементов, поэтому forEach делает вывод, что элементы закончились и прекращает работу.<br /><br />Такой подход зовётся pull iteration, то есть элементы запрашиваются у источника по мере надобности. К слову, в RxJava реализован push iteration подход, то есть источник сам уведомляет, что появились элементы и их нужно обработать.<br /><br /><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="parallel-streams"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">4</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">. Параллельные стримы</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Стримы бывают последовательными (sequential) и параллельными (parallel). Последовательные выполняются только в текущем потоке, а вот параллельные используют общий пул </span><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html#commonPool--"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">ForkJoinPool.commonPool()</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">. При этом элементы разбиваются (если это возможно) на несколько групп и обрабатываются в каждом потоке отдельно. Затем на нужном этапе группы объединяются в одну для предоставления конечного результата.<br /><br />Чтобы получить параллельный стрим, нужно либо вызвать метод parallelStream() вместо stream(), либо превратить обычный стрим в параллельный, вызвав промежуточный оператор parallel.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">list.<span style=" color:#000000;">parallelStream()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">filter(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">&gt;</span> <span style=" color:#e02929;">10</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">map(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">*</span> <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">toList())</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">10</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">parallel()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">map(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">*</span> <span style=" color:#e02929;">10</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">sum()</span><span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Работа с потоконебезопасными коллекциями, разбиение элементов на части, создание потоков, объединение частей воедино, всё это кроется в реализации Stream API. От нас лишь требуется вызвать нужный метод и проследить, чтобы функции в операторах не зависели от каких-либо внешних факторов, иначе есть риск получить неверный результат или ошибку.<br /><br />Вот так делать нельзя:<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">final</span> List<span style=" color:#008000;">&lt;</span>Integer<span style=" color:#008000;">&gt;</span> ints <span style=" color:#008000;">=</span> <span style=" color:#0000e6;">new</span> ArrayList<span style=" color:#008000;">&lt;&gt;</span><span style=" color:#000000;">()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">1000000</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">parallel()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>i <span style=" color:#008000;">-&gt;</span> ints.<span style=" color:#000000;">add(</span>i<span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">println(</span>ints.<span style=" color:#000000;">size())</span><span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Это код Шрёдингера. Он может нормально выполниться и показать 1000000, может выполниться и показать 869877, а может и упасть с ошибкой </span><span style=" font-family:'Sans Serif'; font-size:9pt; background-color:#ffebee;">Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 332 at java.util.ArrayList.add(ArrayList.java:459)</span><span style=" font-family:'Sans Serif'; font-size:9pt;">.<br /><br />Поэтому разработчики настоятельно просят воздержаться от побочных эффектов в лямбдах, то тут, то там говоря в документации о невмешательстве (non-interference).<br /><br /><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="primitive-streams"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">5</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">. Стримы для примитивов</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Кроме объектных стримов Stream&lt;T&gt;, существуют специальные стримы для примитивных типов:<br />  - IntStream для int,<br />  - LongStream для long,<br />  - DoubleStream для double.<br /><br />Для boolean, byte, short и char специальных стримов не придумали, но вместо них можно использовать IntStream, а затем приводить к нужному типу. Для float тоже придётся воспользоваться DoubleStream.<br /><br />Примитивные стримы полезны, так как не нужно тратить время на боксинг/анбоксинг, к тому же у них есть ряд специальных операторов, упрощающих жизнь. Их мы рассмотрим очень скоро.<br /><br /><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="operators"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">6</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">. Операторы Stream API</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Дальше приводятся операторы Stream API с описанием, демонстрацией и примерами. Можете использовать это как справочник.<br /><br /></span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="sources"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">6</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">.1. Источники</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="empty"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">e</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">mpty()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Стрим, как и коллекция, может быть пустым, а значит всем последующем операторам нечего будет обрабатывать.<br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">empty()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// Вывода нет</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="of"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">o</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">f(T value)<br />of(T... values)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Стрим для одного или нескольких перечисленных элементов. Очень часто вижу, что используют такую конструкцию:<br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Arrays.<span style=" color:#000000;">asList(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span>.<span style=" color:#000000;">stream()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">однако она излишня. Вот так проще:<br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="ofNullable"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">o</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">fNullable(T t)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Появился в Java 9. Возвращает пустой стрим, если в качестве аргумента передан null, в противном случае, возвращает стрим из одного элемента.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">String str <span style=" color:#008000;">=</span> Math.<span style=" color:#000000;">random()</span> <span style=" color:#008000;">&gt;</span> <span style=" color:#e02929;">0.5</span> <span style=" color:#008000;">?</span> <span style=" color:#ce7b00;">&quot;I'm feeling lucky&quot;</span> <span style=" color:#008000;">:</span> <span style=" color:#0000e6;">null</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">ofNullable(</span>str<span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="generate"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">g</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">enerate(Supplier s)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Возвращает стрим с бесконечной последовательностью элементов, генерируемых функцией Supplier s.<br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">generate(()</span> <span style=" color:#008000;">-&gt;</span> <span style=" color:#e02929;">6</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">limit(</span><span style=" color:#e02929;">6</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 6, 6, 6, 6, 6, 6</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br />Поскольку стрим бесконечный, нужно его ограничивать или осторожно использовать, дабы не попасть в бесконечный цикл.<br /><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="iterate​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">i</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">terate​(T seed, UnaryOperator f)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Возвращает бесконечный стрим с элементами, которые образуются в результате последовательного применения функции f к итерируемому значению. Первым элементом будет seed, затем f(seed), затем f(f(seed)) и так далее.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">iterate(</span><span style=" color:#e02929;">2</span>, x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">+</span> <span style=" color:#e02929;">6</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">limit(</span><span style=" color:#e02929;">6</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 2, 8, 14, 20, 26, 32</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">iterate(</span><span style=" color:#e02929;">1</span>, x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">*</span> <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">limit(</span><span style=" color:#e02929;">6</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 1, 2, , , , 32</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="iterate​-with-predicate"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">i</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">terate​(T seed, Predicate hasNext, UnaryOperator f)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Появился в Java 9. Всё то же самое, только добавляется ещё один аргумент hasNext: если он возвращает false, то стрим завершается. Это очень похоже на цикл for:<br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">for</span> <span style=" color:#000000;">(</span>i <span style=" color:#008000;">=</span> seed<span style=" color:#008000;">;</span> hasNext<span style=" color:#000000;">(</span>i<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span> i <span style=" color:#008000;">=</span> f<span style=" color:#000000;">(</span>i<span style=" color:#000000;">))</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">}</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Таким образом, с помощью iterate теперь можно создать конечный стрим.<br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">iterate(</span><span style=" color:#e02929;">2</span>, x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">&lt;</span> <span style=" color:#e02929;">25</span>, x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">+</span> <span style=" color:#e02929;">6</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 2, 8, 14, 20</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">iterate(</span><span style=" color:#e02929;">4</span>, x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">&lt;</span> <span style=" color:#e02929;">100</span>, x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">*</span> <span style=" color:#e02929;">4</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// , 16, </span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="concat"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">c</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">oncat(Stream a, Stream b)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Объединяет два стрима так, что вначале идут элементы стрима A, а по его окончанию последуют элементы стрима B.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">concat(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">5</span>, <span style=" color:#e02929;">6</span><span style=" color:#000000;">))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 1, 2, 3, 4, 5, 6</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">concat(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">10</span><span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        Stream.<span style=" color:#000000;">of(</span>, <span style=" color:#000000;">))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 10, 4, 16</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="builder"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">b</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">uilder()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Создаёт мутабельный объект для добавления элементов в стрим без использования какого-либо контейнера для этого.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">Builder</span><span style=" color:#008000;">&lt;</span>Integer<span style=" color:#008000;">&gt;</span> streamBuider <span style=" color:#008000;">=</span> Stream.<span style=" color:#008000;">&lt;</span>Integer<span style=" color:#008000;">&gt;</span>builder<span style=" color:#000000;">()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">add(</span><span style=" color:#e02929;">0</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">add(</span><span style=" color:#e02929;">1</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">for</span> <span style=" color:#000000;">(</span><span style=" color:#0000e6;">int</span> i <span style=" color:#008000;">=</span> <span style=" color:#e02929;">2</span><span style=" color:#008000;">;</span> i <span style=" color:#008000;">&lt;=</span> <span style=" color:#e02929;">8</span><span style=" color:#008000;">;</span> i <span style=" color:#008000;">+=</span> <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    streamBuider.<span style=" color:#000000;">accept(</span>i<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">streamBuider</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">add(</span><span style=" color:#e02929;">9</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">add(</span><span style=" color:#e02929;">10</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">build()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 0, 1, 2, 4, 6, 8, 9, 10</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="range​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">I</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ntStream.range​(int startInclusive, int endExclusive)<br />LongStream.range​(long startInclusive, long endExclusive)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Создаёт стрим из числового промежутка [start..end), то есть от start (включительно) по end.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">10</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 0, 1, 2, 3, 4, 5, 6, 7, 8, 9</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">LongStream.<span style=" color:#000000;">range(</span><span style=" color:#008000;">-</span>10L, <span style=" color:#008000;">-</span>5L<span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// -10, -9, -8, -7, -6</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="rangeClosed​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">I</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ntStream.rangeClosed​(int startInclusive, int endInclusive)<br />LongStream.range​Closed(long startInclusive, long endInclusive)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Создаёт стрим из числового промежутка [start..end], то есть от start (включительно) по end (включительно).<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">rangeClosed(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 0, 1, 2, 3, 4, 5</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">LongStream.<span style=" color:#000000;">range(</span><span style=" color:#008000;">-</span>8L, <span style=" color:#008000;">-</span>5L<span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// -8, -7, -6, -5</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br /></span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="intermediate-operators"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">6</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">.2. Промежуточные операторы</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="filter​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">f</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ilter​(Predicate predicate)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Фильтрует стрим, принимая только те элементы, которые удовлетворяют заданному условию.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">filter(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">==</span> <span style=" color:#e02929;">10</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">print)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// Вывода нет, так как после фильтрации стрим станет пустым</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">120</span>, <span style=" color:#e02929;">410</span>, <span style=" color:#e02929;">85</span>, <span style=" color:#e02929;">32</span>, <span style=" color:#e02929;">314</span>, <span style=" color:#e02929;">12</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">filter(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">&gt;</span> <span style=" color:#e02929;">100</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 120, 410, 314</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">9</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">filter(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">%</span> <span style=" color:#008000;">==</span> <span style=" color:#e02929;">0</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 3, 6</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="map​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">m</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ap​(Function mapper)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Применяет функцию к каждому элементу и затем возвращает стрим, в котором элементами будут результаты функции. map можно применять для изменения типа элементов.<br /><br />Stream.mapToDouble​(ToDoubleFunction mapper)<br />Stream.mapToInt​(ToIntFunction mapper)<br />Stream.mapToLong​(ToLongFunction mapper)<br />IntStream.mapToObj(IntFunction mapper)<br />IntStream.mapToLong(IntToLongFunction mapper)<br />IntStream.mapToDouble(IntToDoubleFunction mapper)<br /><br />Специальные операторы для преобразования объектного стрима в примитивный, примитивного в объектный, либо примитивного стрима одного типа в примитивный стрим другого.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#ce7b00;">&quot;3&quot;</span>, <span style=" color:#ce7b00;">&quot;4&quot;</span>, <span style=" color:#ce7b00;">&quot;5&quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">map(</span>Integer<span style=" color:#008000;">::</span><span style=" color:#000000;">parseInt)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">map(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">+</span> <span style=" color:#e02929;">10</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 13, 14, 15</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">120</span>, <span style=" color:#e02929;">410</span>, <span style=" color:#e02929;">85</span>, <span style=" color:#e02929;">32</span>, <span style=" color:#e02929;">314</span>, <span style=" color:#e02929;">12</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">map(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">+</span> <span style=" color:#e02929;">11</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 131, 421, 96, 43, 325, 23</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#ce7b00;">&quot;10&quot;</span>, <span style=" color:#ce7b00;">&quot;11&quot;</span>, <span style=" color:#ce7b00;">&quot;&quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">map(</span>x <span style=" color:#008000;">-&gt;</span> Integer.<span style=" color:#000000;">parseInt(</span>x, <span style=" color:#e02929;">16</span><span style=" color:#000000;">))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// , , 50</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="flatMap​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">f</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">latMap​(Function&lt;T, Stream&lt;R&gt;&gt; mapper)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Один из самых интересных операторов. Работает как map, но с одним отличием — можно преобразовать один элемент в ноль, один или множество других.<br /><br />flatMapToDouble​(Function mapper)<br />flatMapToInt​(Function mapper)<br />flatMapToLong​(Function mapper)<br /><br />Как и в случае с map, служат для преобразования в примитивный стрим.<br /><br />Для того, чтобы один элемент преобразовать в ноль элементов, нужно вернуть null, либо пустой стрим. Чтобы преобразовать в один элемент, нужно вернуть стрим из одного элемента, например, через Stream.of(x). Для возвращения нескольких элементов, можно любыми способами создать стрим с этими элементами.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">flatMap(</span>x <span style=" color:#008000;">-&gt;</span> IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, x<span style=" color:#000000;">))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 0, 1, 0, 1, 2, 0, 0, 1, 2</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">5</span>, <span style=" color:#e02929;">6</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">flatMap(</span>x <span style=" color:#008000;">-&gt;</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">         <span style=" color:#0000e6;">switch</span> <span style=" color:#000000;">(</span>x <span style=" color:#008000;">%</span> <span style=" color:#000000;">)</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">             <span style=" color:#0000e6;">case</span> <span style=" color:#e02929;">0</span><span style=" color:#008000;">:</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                 <span style=" color:#0000e6;">return</span> Stream.<span style=" color:#000000;">of(</span>x, x<span style=" color:#008000;">*</span>x, x<span style=" color:#008000;">*</span>x<span style=" color:#008000;">*</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">             <span style=" color:#0000e6;">case</span> <span style=" color:#e02929;">1</span><span style=" color:#008000;">:</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                 <span style=" color:#0000e6;">return</span> Stream.<span style=" color:#000000;">of(</span>x<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">             <span style=" color:#0000e6;">case</span> <span style=" color:#e02929;">2</span><span style=" color:#008000;">:</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">             <span style=" color:#0000e6;">default</span><span style=" color:#008000;">:</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                 <span style=" color:#0000e6;">return</span> Stream.<span style=" color:#000000;">empty()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">         <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">     <span style=" color:#000000;">})</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 1, 3, 9, 18, 4, 6, 36, 72</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="limit​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">l</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">imit​(long maxSize)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ограничивает стрим maxSize элементами.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">120</span>, <span style=" color:#e02929;">410</span>, <span style=" color:#e02929;">85</span>, <span style=" color:#e02929;">32</span>, <span style=" color:#e02929;">314</span>, <span style=" color:#e02929;">12</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">limit(</span><span style=" color:#e02929;">4</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 120, 410, 85, 32</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">120</span>, <span style=" color:#e02929;">410</span>, <span style=" color:#e02929;">85</span>, <span style=" color:#e02929;">32</span>, <span style=" color:#e02929;">314</span>, <span style=" color:#e02929;">12</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">limit()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">limit(</span><span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 120, 410</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">19</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">limit()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// Вывода нет</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="skip​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">s</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">kip​(long n)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Пропускает n элементов стрима.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">5</span>, <span style=" color:#e02929;">10</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">skip(</span><span style=" color:#e02929;">40</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// Вывода нет</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">120</span>, <span style=" color:#e02929;">410</span>, <span style=" color:#e02929;">85</span>, <span style=" color:#e02929;">32</span>, <span style=" color:#e02929;">314</span>, <span style=" color:#e02929;">12</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">skip(</span><span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 85, 32, 314, 12</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">10</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">limit(</span><span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">skip(</span><span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// , </span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">10</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">skip(</span><span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">limit(</span><span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">skip(</span><span style=" color:#e02929;">1</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// , </span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="sorted​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">s</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">orted​()<br />sorted​(Comparator comparator)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Сортирует элементы стрима. Причём работает этот оператор очень хитро: если стрим уже помечен как отсортированный, то сортировка проводиться не будет, иначе соберёт все элементы, отсортирует их и вернёт новый стрим, помеченный как отсортированный. См. </span><a href="https://annimon.com/article/2778#characteristics"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">9.1</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">100000000</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">sorted()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">limit(</span><span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 0, 1, 2</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">concat(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">100000000</span><span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        IntStream.<span style=" color:#000000;">of(</span><span style=" color:#008000;">-</span><span style=" color:#e02929;">1</span>, <span style=" color:#008000;">-</span><span style=" color:#e02929;">2</span><span style=" color:#000000;">))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">sorted()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">limit(</span><span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">120</span>, <span style=" color:#e02929;">410</span>, <span style=" color:#e02929;">85</span>, <span style=" color:#e02929;">32</span>, <span style=" color:#e02929;">314</span>, <span style=" color:#e02929;">12</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">sorted()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 12, 32, 85, 120, 314, 410</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">120</span>, <span style=" color:#e02929;">410</span>, <span style=" color:#e02929;">85</span>, <span style=" color:#e02929;">32</span>, <span style=" color:#e02929;">314</span>, <span style=" color:#e02929;">12</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">sorted(</span>Comparator.<span style=" color:#000000;">Order())</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 410, 314, 120, 85, 32, 12</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="distinct​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">d</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">istinct​()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Убирает повторяющиеся элементы и возвращаем стрим с уникальными элементами. Как и в случае с sorted, смотрит, состоит ли уже стрим из уникальных элементов и если это не так, отбирает уникальные и помечает стрим как содержащий уникальные элементы.<br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">8</span>, <span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">distinct</span>​<span style=" color:#000000;">()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 2, 1, 8, 3</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">concat(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">4</span><span style=" color:#000000;">))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">distinct()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// , , , , </span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="peek​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">p</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">eek​(Consumer action)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Выполняет действие над каждым элементом стрима и при этом возвращает стрим с элементами исходного стрима. Служит для того, чтобы передать элемент куда-нибудь, не разрывая при этом цепочку операторов (вы же помните, что forEach — терминальный оператор и после него стрим завершается?), либо для отладки.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">peek(</span>x <span style=" color:#008000;">-&gt;</span> System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">format(</span><span style=" color:#ce7b00;">&quot;before distinct: %d%n&quot;</span>, x<span style=" color:#000000;">))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">distinct()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">peek(</span>x <span style=" color:#008000;">-&gt;</span> System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">format(</span><span style=" color:#ce7b00;">&quot;after distinct: %d%n&quot;</span>, x<span style=" color:#000000;">))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">map(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">*</span> x<span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>x <span style=" color:#008000;">-&gt;</span> System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">format(</span><span style=" color:#ce7b00;">&quot;after map: %d%n&quot;</span>, x<span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// before distinct: 0</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// after distinct: 0</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// after map: 0</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// before distinct: 3</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// after distinct: 3</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// after map: 9</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// before distinct: 1</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// after distinct: 1</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// after map: 1</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// before distinct: 5</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// before distinct: 0</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// before distinct: 5</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// after distinct: 5</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// after map: 25</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="takeWhile​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">t</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">akeWhile​(Predicate predicate)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Появился в Java 9. Возвращает элементы до тех пор, пока они удовлетворяют условию, то есть функция-предикат возвращает true. Это как limit, только не с числом, а с условием.<br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">takeWhile(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">&lt;</span> <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 1, 2</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">7</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">takeWhile(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">!=</span> <span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 2, 3, 4</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="dropWhile​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">d</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ropWhile​(Predicate predicate)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Появился в Java 9. Пропускает элементы до тех пор, пока они удовлетворяют условию, затем возвращает оставшуюся часть стрима. Если предикат вернул для первого элемента false, то ни единого элемента не будет пропущено. Оператор подобен skip, только работает по условию.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">dropWhile(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">&gt;=</span> <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 1, 2, 3, 4, 2, 5</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">dropWhile(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">&lt;</span> <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 3, 4, 2, 5</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">7</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">dropWhile(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">&lt;</span> <span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 5, 6</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">5</span>, <span style=" color:#e02929;">4</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">dropWhile(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#e02929;">2</span> <span style=" color:#008000;">==</span> <span style=" color:#e02929;">1</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 2, 0, 5, 6</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="boxed"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">b</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">oxed()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Преобразует примитивный стрим в объектный.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">DoubleStream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">0.1</span>, Math.<span style=" color:#000000;">PI)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">boxed()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">map(</span>Object<span style=" color:#008000;">::</span><span style=" color:#000000;">getClass)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// class java.lang.Double</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// class java.lang.Double</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br /></span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="terminal-operators"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">6</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">.3. Терминальные операторы</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="forEach​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">v</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">oid forEach​(Consumer action)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Выполняет указанное действие для каждого элемента стрима.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">120</span>, <span style=" color:#e02929;">410</span>, <span style=" color:#e02929;">85</span>, <span style=" color:#e02929;">32</span>, <span style=" color:#e02929;">314</span>, <span style=" color:#e02929;">12</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>x <span style=" color:#008000;">-&gt;</span> System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">format(</span><span style=" color:#ce7b00;">&quot;%s, &quot;</span>, x<span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 120, 410, 85, 32, 314, 12</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="forEachOrdered​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">v</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">oid forEachOrdered​(Consumer action)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Тоже выполняет указанное действие для каждого элемента стрима, но перед этим добивается правильного порядка вхождения элементов. Используется для параллельных стримов, когда нужно получить правильную последовательность элементов.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">100000</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">parallel()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">filter(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">%</span> <span style=" color:#e02929;">10000</span> <span style=" color:#008000;">==</span> <span style=" color:#e02929;">0</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">map(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">/</span> <span style=" color:#e02929;">10000</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 5, 6, 7, 3, 4, 8, 0, 9, 1, 2</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">100000</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">parallel()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">filter(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">%</span> <span style=" color:#e02929;">10000</span> <span style=" color:#008000;">==</span> <span style=" color:#e02929;">0</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">map(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">/</span> <span style=" color:#e02929;">10000</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEachOrdered(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 0, 1, 2, 3, 4, 5, 6, 7, 8, 9</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="count​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">l</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ong count​()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Возвращает количество элементов стрима.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">long</span> count <span style=" color:#008000;">=</span> IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">10</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">flatMap(</span>x <span style=" color:#008000;">-&gt;</span> IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, x<span style=" color:#000000;">))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">count()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">println(</span>count<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 45</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">println(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    IntStream.<span style=" color:#000000;">rangeClosed(</span><span style=" color:#008000;">-</span><span style=" color:#e02929;">3</span>, <span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">count()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 10</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">println(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">9</span>, <span style=" color:#e02929;">13</span>, <span style=" color:#e02929;">5</span>, <span style=" color:#e02929;">11</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">filter(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">%</span> <span style=" color:#e02929;">2</span> <span style=" color:#008000;">==</span> <span style=" color:#e02929;">1</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">count()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 0</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="collect​-with-collector"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">R</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;"> collect​(Collector collector)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Один из самых мощных операторов Stream API. С его помощью можно собрать все элементы в список, множество или другую коллекцию, сгруппировать элементы по какому-нибудь критерию, объединить всё в строку и т.д.. В классе java.util.stream.Collectors очень много методов на все случаи жизни, мы рассмотрим их позже. При желании можно </span><a href="https://annimon.com/article/2778#collector-implementation"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">написать свой коллектор</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">, реализовав интерфейс Collector.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">List<span style=" color:#008000;">&lt;</span>Integer<span style=" color:#008000;">&gt;</span> list <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">toList())</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// list: [1, 2, 3]</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">String s <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">map(</span>String<span style=" color:#008000;">::</span><span style=" color:#000000;">valueOf)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">joining(</span><span style=" color:#ce7b00;">&quot;-&quot;</span>, <span style=" color:#ce7b00;">&quot;&lt;&quot;</span>, <span style=" color:#ce7b00;">&quot;&gt;&quot;</span><span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// s: &quot;&lt;1-2-3&gt;&quot;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="collect​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">R</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;"> collect​(Supplier supplier, BiConsumer accumulator, BiConsumer combiner)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">То же, что и collect(collector), только параметры разбиты для удобства. Если нужно быстро сделать какую-то операцию, нет нужды реализовывать интерфейс Collector, достаточно передать три лямбда-выражения.<br /><br />supplier должен поставлять новые объекты (контейнеры), например new ArrayList(), accumulator добавляет элемент в контейнер, combiner необходим для параллельных стримов и объединяет части стрима воедино.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">List<span style=" color:#008000;">&lt;</span>String<span style=" color:#008000;">&gt;</span> list <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#ce7b00;">&quot;a&quot;</span>, <span style=" color:#ce7b00;">&quot;b&quot;</span>, <span style=" color:#ce7b00;">&quot;c&quot;</span>, <span style=" color:#ce7b00;">&quot;d&quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>ArrayList<span style=" color:#008000;">::</span><span style=" color:#0000e6;">new</span>, ArrayList<span style=" color:#008000;">::</span><span style=" color:#000000;">add</span>, ArrayList<span style=" color:#008000;">::</span><span style=" color:#000000;">addAll)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// list: [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="toArray​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">O</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">bject[] toArray​()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Возвращает нетипизированный массив с элементами стрима.<br /><br />A[] toArray​(IntFunction&lt;A[]&gt; generator)<br />Аналогично, только возвращает типизированный массив.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">String<span style=" color:#000000;">[]</span> elements <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#ce7b00;">&quot;a&quot;</span>, <span style=" color:#ce7b00;">&quot;b&quot;</span>, <span style=" color:#ce7b00;">&quot;c&quot;</span>, <span style=" color:#ce7b00;">&quot;d&quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">toArray(</span>String<span style=" color:#000000;">[]</span><span style=" color:#008000;">::</span><span style=" color:#0000e6;">new</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// elements: [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="reduce​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">T</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;"> reduce​(T identity, BinaryOperator accumulator)<br />U reduce​(U identity, BiFunction accumulator, BinaryOperator combiner)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ещё один полезный оператор. Позволяет преобразовать все элементы стрима в один объект. Например, посчитать сумму всех элементов, либо найти минимальный элемент.<br /><br />Сперва берётся объект identity и первый элемент стрима, применяется функция accumulator и identity становится её результатом. Затем всё продолжается для остальных элементов.<br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">int</span> sum <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">reduce(</span><span style=" color:#e02929;">10</span>, <span style=" color:#000000;">(</span>acc, x<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> acc <span style=" color:#008000;">+</span> x<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// sum: 25</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="reduce-optional​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">O</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ptional reduce​(BinaryOperator accumulator)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Этот метод отличается тем, что у него нет начального объекта identity. В качестве него служит первый элемент стрима. Поскольку стрим может быть пустой и тогда identity объект не присвоится, то результатом функции служит Optional, позволяющий обработать и эту ситуацию, вернув Optional.empty().<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Optional<span style=" color:#008000;">&lt;</span>Integer<span style=" color:#008000;">&gt;</span> result <span style=" color:#008000;">=</span> Stream.<span style=" color:#008000;">&lt;</span>Integer<span style=" color:#008000;">&gt;</span>empty<span style=" color:#000000;">()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">reduce((</span>acc, x<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> acc <span style=" color:#008000;">+</span> x<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">println(</span>result.<span style=" color:#000000;">isPresent())</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// false</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Optional<span style=" color:#008000;">&lt;</span>Integer<span style=" color:#008000;">&gt;</span> sum <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">reduce((</span>acc, x<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> acc <span style=" color:#008000;">+</span> x<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">println(</span>sum.<span style=" color:#000000;">get())</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 15</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">int</span> sum <span style=" color:#008000;">=</span> IntStream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">6</span>, <span style=" color:#e02929;">8</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">reduce(</span>, <span style=" color:#000000;">(</span>acc, x<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> acc <span style=" color:#008000;">+</span> x<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// sum: 25</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">int</span> product <span style=" color:#008000;">=</span> IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">10</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">filter(</span>x <span style=" color:#008000;">-&gt;</span> x<span style=" color:#008000;">++</span> <span style=" color:#008000;">%</span> <span style=" color:#e02929;">4</span> <span style=" color:#008000;">==</span> <span style=" color:#e02929;">0</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">reduce((</span>acc, x<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> acc <span style=" color:#008000;">*</span> x<span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">getAsInt()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// product: </span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="min​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">O</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ptional min​(Comparator comparator)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="max​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">O</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ptional max​(Comparator comparator)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Поиск минимального/максимального элемента, основываясь на переданном компараторе. Внутри вызывается reduce:<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">reduce<span style=" color:#000000;">((</span>a, b<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> comparator.<span style=" color:#000000;">compare(</span>a, b<span style=" color:#000000;">)</span> <span style=" color:#008000;">&lt;=</span> <span style=" color:#e02929;">0</span> <span style=" color:#008000;">?</span> a <span style=" color:#008000;">:</span> b<span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">reduce<span style=" color:#000000;">((</span>a, b<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> comparator.<span style=" color:#000000;">compare(</span>a, b<span style=" color:#000000;">)</span> <span style=" color:#008000;">&gt;=</span> <span style=" color:#e02929;">0</span> <span style=" color:#008000;">?</span> a <span style=" color:#008000;">:</span> b<span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">int</span> min <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">20</span>, <span style=" color:#e02929;">11</span>, <span style=" color:#e02929;">45</span>, <span style=" color:#e02929;">78</span>, <span style=" color:#e02929;">13</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">min(</span>Integer<span style=" color:#008000;">::</span><span style=" color:#000000;">compare)</span>.<span style=" color:#000000;">get()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// min: 11</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">int</span> max <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">20</span>, <span style=" color:#e02929;">11</span>, <span style=" color:#e02929;">45</span>, <span style=" color:#e02929;">78</span>, <span style=" color:#e02929;">13</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">max(</span>Integer<span style=" color:#008000;">::</span><span style=" color:#000000;">compare)</span>.<span style=" color:#000000;">get()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// max: 78</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="findAny​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">O</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ptional findAny​()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Возвращает первый попавшийся элемент стрима. В параллельных стримах это может быть действительно любой элемент, который лежал в разбитой части последовательности.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="findFirst​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">O</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ptional findFirst​()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Гарантированно возвращает первый элемент стрима, даже если стрим параллельный.<br /><br />Если нужен любой элемент, то для параллельных стримов быстрее будет работать findAny().<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">int</span> anySeq <span style=" color:#008000;">=</span> IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">65536</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">findAny()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">getAsInt()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// anySeq: 4</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">int</span> firstSeq <span style=" color:#008000;">=</span> IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">65536</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">findFirst()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">getAsInt()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// firstSeq: 4</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">int</span> anyParallel <span style=" color:#008000;">=</span> IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">65536</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">parallel()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">findAny()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">getAsInt()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// anyParallel: 32770</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">int</span> firstParallel <span style=" color:#008000;">=</span> IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">65536</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">parallel()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">findFirst()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">getAsInt()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// firstParallel: 4</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="allMatch​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">b</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">oolean allMatch​(Predicate predicate)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Возвращает true, если все элементы стрима удовлетворяют условию predicate. Если встречается какой-либо элемент, для которого результат вызова функции-предиката будет false, то оператор перестаёт просматривать элементы и возвращает false.<br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">boolean</span> result <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">allMatch(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">&lt;=</span> <span style=" color:#e02929;">7</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// result: true</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">boolean</span> result <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">allMatch(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">&lt;</span> <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// result: false</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">boolean</span> result <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">120</span>, <span style=" color:#e02929;">410</span>, <span style=" color:#e02929;">85</span>, <span style=" color:#e02929;">32</span>, <span style=" color:#e02929;">314</span>, <span style=" color:#e02929;">12</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">allMatch(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">%</span> <span style=" color:#e02929;">2</span> <span style=" color:#008000;">==</span> <span style=" color:#e02929;">0</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// result: </span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="anyMatch​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">b</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">oolean anyMatch​(Predicate predicate)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Возвращает true, если хотя бы один элемент стрима удовлетворяет условию predicate. Если такой элемент встретился, нет смысла продолжать перебор элементов, поэтому сразу возвращается результат.<br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">boolean</span> result <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">anyMatch(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">==</span> <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// result: true</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">boolean</span> result <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">anyMatch(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">==</span> <span style=" color:#e02929;">8</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// result: false</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">boolean</span> result <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">120</span>, <span style=" color:#e02929;">410</span>, <span style=" color:#e02929;">85</span>, <span style=" color:#e02929;">32</span>, <span style=" color:#e02929;">314</span>, <span style=" color:#e02929;">12</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">anyMatch(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">%</span> <span style=" color:#e02929;">22</span> <span style=" color:#008000;">==</span> <span style=" color:#e02929;">0</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// result: </span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="noneMatch​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">b</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">oolean noneMatch​(Predicate predicate)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Возвращает true, если, пройдя все элементы стрима, ни один не удовлетворил условию predicate. Если встречается какой-либо элемент, для которого результат вызова функции-предиката будет true, то оператор перестаёт перебирать элементы и возвращает false.<br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">boolean</span> result <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">noneMatch(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">==</span> <span style=" color:#e02929;">9</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// result: true</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">boolean</span> result <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">noneMatch(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">==</span> <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// result: false</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ваш браузер не поддерживает это видео. <br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">boolean</span> result <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">120</span>, <span style=" color:#e02929;">410</span>, <span style=" color:#e02929;">86</span>, <span style=" color:#e02929;">32</span>, <span style=" color:#e02929;">314</span>, <span style=" color:#e02929;">12</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">noneMatch(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">%</span> <span style=" color:#e02929;">2</span> <span style=" color:#008000;">==</span> <span style=" color:#e02929;">1</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// result: </span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="average​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">O</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ptionalDouble average​()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Только для примитивных стримов. Возвращает среднее арифметическое всех элементов. Либо Optional.empty, если стрим пуст.<br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">double</span> result <span style=" color:#008000;">=</span> IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">16</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">average()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">getAsDouble()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// result: 8.5</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="sum"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">s</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">um()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Возвращает сумму элементов примитивного стрима. Для IntStream результат будет типа int, для LongStream — long, для DoubleStream — double.<br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">long</span> result <span style=" color:#008000;">=</span> LongStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">16</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">sum()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// result: 119</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="summaryStatistics"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">I</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ntSummaryStatistics summaryStatistics()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Полезный метод примитивных стримов. Позволяет собрать статистику о числовой последовательности стрима, а именно: количество элементов, их сумму, среднее арифметическое, минимальный и максимальный элемент.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">LongSummaryStatistics stats <span style=" color:#008000;">=</span> LongStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">16</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">summaryStatistics()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">format(</span><span style=" color:#ce7b00;">&quot;  count: %d%n&quot;</span>, stats.<span style=" color:#000000;">getCount())</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">format(</span><span style=" color:#ce7b00;">&quot;    sum: %d%n&quot;</span>, stats.<span style=" color:#000000;">getSum())</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">format(</span><span style=" color:#ce7b00;">&quot;average: %.1f%n&quot;</span>, stats.<span style=" color:#000000;">getAverage())</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">format(</span><span style=" color:#ce7b00;">&quot;    min: %d%n&quot;</span>, stats.<span style=" color:#000000;">getMin())</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">format(</span><span style=" color:#ce7b00;">&quot;    max: %d%n&quot;</span>, stats.<span style=" color:#000000;">getMax())</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">//   count: 14</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">//     sum: 119</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// average: 8,5</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">//     min: 2</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">//     max: 15</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="collectors-methods"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">7</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">. Методы Collectors</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="toList​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">t</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">oList​()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Самый распространённый метод. Собирает элементы в List.<br /><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="toSet​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">t</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">oSet​()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Собирает элементы в множество.<br /><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="toCollection​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">t</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">oCollection​(Supplier collectionFactory)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Собирает элементы в заданную коллекцию. Если нужно конкретно указать, какой List, Set или другую коллекцию мы хотим использовать, то этот метод поможет.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Deque<span style=" color:#008000;">&lt;</span>Integer<span style=" color:#008000;">&gt;</span> deque <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">toCollection(</span>ArrayDeque<span style=" color:#008000;">::</span><span style=" color:#0000e6;">new</span><span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Set<span style=" color:#008000;">&lt;</span>Integer<span style=" color:#008000;">&gt;</span> set <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">toCollection(</span>LinkedHashSet<span style=" color:#008000;">::</span><span style=" color:#0000e6;">new</span><span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="toMap​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">t</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">oMap​(Function keyMapper, Function valueMapper)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Собирает элементы в Map. Каждый элемент преобразовывается в ключ и в значение, основываясь на результате функций keyMapper и valueMapper соответственно. Если нужно вернуть тот же элемент, что и пришел, то можно передать Function.identity().<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Map<span style=" color:#008000;">&lt;</span>Integer, Integer<span style=" color:#008000;">&gt;</span> map1 <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">toMap(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        Function.<span style=" color:#000000;">identity()</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        Function.<span style=" color:#000000;">identity()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// {1=1, 2=2, 3=3, 4=4, 5=5}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Map<span style=" color:#008000;">&lt;</span>Integer, String<span style=" color:#008000;">&gt;</span> map2 <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">toMap(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        Function.<span style=" color:#000000;">identity()</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        i <span style=" color:#008000;">-&gt;</span> String.<span style=" color:#000000;">format(</span><span style=" color:#ce7b00;">&quot;%d * 2 = %d&quot;</span>, i, i <span style=" color:#008000;">*</span> <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// {1=&quot;1 * 2 = 2&quot;, 2=&quot;2 * 2 = 4&quot;, 3=&quot;3 * 2 = 6&quot;}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Map<span style=" color:#008000;">&lt;</span>Character, String<span style=" color:#008000;">&gt;</span> map3 <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">50</span>, <span style=" color:#e02929;">54</span>, <span style=" color:#e02929;">55</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">toMap(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        i <span style=" color:#008000;">-&gt;</span> <span style=" color:#000000;">(</span><span style=" color:#0000e6;">char</span><span style=" color:#000000;">)</span> i.<span style=" color:#000000;">intValue()</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        i <span style=" color:#008000;">-&gt;</span> String.<span style=" color:#000000;">format(</span><span style=" color:#ce7b00;">&quot;&lt;%d&gt;&quot;</span>, i<span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// {'2'=&quot;&lt;50&gt;&quot;, '6'=&quot;&lt;54&gt;&quot;, '7'=&quot;&lt;55&gt;&quot;}</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="toMap​-with-merge"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">t</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">oMap​(Function keyMapper, Function valueMapper, BinaryOperator mergeFunction)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Аналогичен первой версии метода, только в случае, когда встречается два одинаковых ключа, позволяет объединить значения.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Map<span style=" color:#008000;">&lt;</span>Integer, String<span style=" color:#008000;">&gt;</span> map4 <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">50</span>, <span style=" color:#e02929;">55</span>, <span style=" color:#e02929;">69</span>, <span style=" color:#e02929;">20</span>, <span style=" color:#e02929;">19</span>, <span style=" color:#e02929;">52</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">toMap(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        i <span style=" color:#008000;">-&gt;</span> i <span style=" color:#008000;">%</span> <span style=" color:#e02929;">5</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        i <span style=" color:#008000;">-&gt;</span> String.<span style=" color:#000000;">format(</span><span style=" color:#ce7b00;">&quot;&lt;%d&gt;&quot;</span>, i<span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#000000;">(</span>a, b<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> String.<span style=" color:#000000;">join(</span><span style=" color:#ce7b00;">&quot;, &quot;</span>, a, b<span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// {0=&quot;&lt;50&gt;, &lt;55&gt;, &lt;20&gt;&quot;, 2=&quot;&lt;52&gt;&quot;, 4=&quot;&lt;64&gt;, &lt;19&gt;&quot;}</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">В данном случае, для чисел 50, 55 и 20, ключ одинаков и равен 0, поэтому значения накапливаются. Для 64 и 19 аналогично.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="toMap​-with-factory"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">t</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">oMap​(Function keyMapper, Function valueMapper, BinaryOperator mergeFunction, Supplier mapFactory)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Всё то же, только позволяет указывать, какой именно класс Map использовать.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Map<span style=" color:#008000;">&lt;</span>Integer, String<span style=" color:#008000;">&gt;</span> map5 <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">50</span>, <span style=" color:#e02929;">55</span>, <span style=" color:#e02929;">69</span>, <span style=" color:#e02929;">20</span>, <span style=" color:#e02929;">19</span>, <span style=" color:#e02929;">52</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">toMap(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        i <span style=" color:#008000;">-&gt;</span> i <span style=" color:#008000;">%</span> <span style=" color:#e02929;">5</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        i <span style=" color:#008000;">-&gt;</span> String.<span style=" color:#000000;">format(</span><span style=" color:#ce7b00;">&quot;&lt;%d&gt;&quot;</span>, i<span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#000000;">(</span>a, b<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> String.<span style=" color:#000000;">join(</span><span style=" color:#ce7b00;">&quot;, &quot;</span>, a, b<span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        LinkedHashMap<span style=" color:#008000;">::</span><span style=" color:#0000e6;">new</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// {0=&lt;50&gt;, &lt;55&gt;, &lt;20&gt;, 4=&lt;69&gt;, &lt;19&gt;, 2=&lt;52&gt;}</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Отличие этого примера от предыдущего в том, что теперь сохраняется порядок, благодаря LinkedHashList.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="toConcurrentMap​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">t</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">oConcurrentMap​(Function keyMapper, Function valueMapper)<br />toConcurrentMap​(Function keyMapper, Function valueMapper, BinaryOperator mergeFunction)<br />toConcurrentMap​(Function keyMapper, Function valueMapper, BinaryOperator mergeFunction, Supplier mapFactory)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Всё то же самое, что и toMap, только работаем с ConcurrentMap.<br /><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="collectingAndThen​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">c</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ollectingAndThen​(Collector downstream, Function finisher)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Собирает элементы с помощью указанного коллектора, а потом применяет к полученному результату функцию.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">List<span style=" color:#008000;">&lt;</span>Integer<span style=" color:#008000;">&gt;</span> list <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">collectingAndThen(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        Collectors.<span style=" color:#000000;">toList()</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        Collections<span style=" color:#008000;">::</span><span style=" color:#000000;">unmodifiableList))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">println(</span>list.<span style=" color:#000000;">getClass())</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// class java.util.Collections$UnmodifiableRandomAccessList</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">List<span style=" color:#008000;">&lt;</span>String<span style=" color:#008000;">&gt;</span> list2 <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#ce7b00;">&quot;a&quot;</span>, <span style=" color:#ce7b00;">&quot;b&quot;</span>, <span style=" color:#ce7b00;">&quot;c&quot;</span>, <span style=" color:#ce7b00;">&quot;d&quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">collectingAndThen(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            Collectors.<span style=" color:#000000;">toMap(</span>Function.<span style=" color:#000000;">identity()</span>, s <span style=" color:#008000;">-&gt;</span> s <span style=" color:#008000;">+</span> s<span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            map <span style=" color:#008000;">-&gt;</span> map.<span style=" color:#000000;">entrySet()</span>.<span style=" color:#000000;">stream()))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">map(</span>e <span style=" color:#008000;">-&gt;</span> e.<span style=" color:#000000;">toString())</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">collectingAndThen(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            Collectors.<span style=" color:#000000;">toList()</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            Collections<span style=" color:#008000;">::</span><span style=" color:#000000;">unmodifiableList))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">list2.<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// a=aa</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// b=bb</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// c=cc</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// d=dd</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="joining​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">j</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">oining​()<br />joining​(CharSequence delimiter)<br />joining​(CharSequence delimiter, CharSequence prefix, CharSequence suffix)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Собирает элементы, реализующие интерфейс CharSequence, в единую строку. Дополнительно можно указать разделитель, а также префикс и суффикс для всей последовательности.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">String s1 <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#ce7b00;">&quot;a&quot;</span>, <span style=" color:#ce7b00;">&quot;b&quot;</span>, <span style=" color:#ce7b00;">&quot;c&quot;</span>, <span style=" color:#ce7b00;">&quot;d&quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">joining())</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">println(</span>s1<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// abcd</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">String s2 <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#ce7b00;">&quot;a&quot;</span>, <span style=" color:#ce7b00;">&quot;b&quot;</span>, <span style=" color:#ce7b00;">&quot;c&quot;</span>, <span style=" color:#ce7b00;">&quot;d&quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">joining(</span><span style=" color:#ce7b00;">&quot;-&quot;</span><span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">println(</span>s2<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// a-b-c-d</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">String s3 <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#ce7b00;">&quot;a&quot;</span>, <span style=" color:#ce7b00;">&quot;b&quot;</span>, <span style=" color:#ce7b00;">&quot;c&quot;</span>, <span style=" color:#ce7b00;">&quot;d&quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">joining(</span><span style=" color:#ce7b00;">&quot; -&gt; &quot;</span>, <span style=" color:#ce7b00;">&quot;[ &quot;</span>, <span style=" color:#ce7b00;">&quot; ]&quot;</span><span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">println(</span>s3<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// [ a -&gt; b -&gt; c -&gt; d ]</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="summingInt​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">s</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ummingInt​(ToIntFunction mapper)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="summingLong​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">s</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ummingLong​(ToLongFunction mapper)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="summingDouble​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">s</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ummingDouble​(ToDoubleFunction mapper)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Коллектор, который преобразовывает объекты в int/long/double и подсчитывает сумму.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="averagingInt​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">a</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">veragingInt​(ToIntFunction mapper)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="averagingLong​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">a</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">veragingLong​(ToLongFunction mapper)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="averagingDouble​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">a</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">veragingDouble​(ToDoubleFunction mapper)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Аналогично, но со средним значением.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="summarizingInt​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">s</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ummarizingInt​(ToIntFunction mapper)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="summarizingLong​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">s</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ummarizingLong​(ToLongFunction mapper)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="summarizingDouble​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">s</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ummarizingDouble​(ToDoubleFunction mapper)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Аналогично, но с полной статистикой.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Integer sum <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#ce7b00;">&quot;1&quot;</span>, <span style=" color:#ce7b00;">&quot;2&quot;</span>, <span style=" color:#ce7b00;">&quot;3&quot;</span>, <span style=" color:#ce7b00;">&quot;4&quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">summingInt(</span>Integer<span style=" color:#008000;">::</span><span style=" color:#000000;">parseInt))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">println(</span>sum<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 10</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Double average <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#ce7b00;">&quot;1&quot;</span>, <span style=" color:#ce7b00;">&quot;2&quot;</span>, <span style=" color:#ce7b00;">&quot;3&quot;</span>, <span style=" color:#ce7b00;">&quot;4&quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">averagingInt(</span>Integer<span style=" color:#008000;">::</span><span style=" color:#000000;">parseInt))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">println(</span>average<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 2.5</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">DoubleSummaryStatistics stats <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#ce7b00;">&quot;1.1&quot;</span>, <span style=" color:#ce7b00;">&quot;2.34&quot;</span>, <span style=" color:#ce7b00;">&quot;3.14&quot;</span>, <span style=" color:#ce7b00;">&quot;4.04&quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">summarizingDouble(</span>Double<span style=" color:#008000;">::</span><span style=" color:#000000;">parseDouble))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">println(</span>stats<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// DoubleSummaryStatistics{count=4, sum=10.620000, min=1.100000, average=2.655000, max=4.040000}</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Все эти методы и несколько последующих, зачастую используются в качестве составных коллекторов для группировки или collectingAndThen. В том виде, в котором они показаны на примерах используются редко. Я лишь показываю пример, что они возвращают, чтобы было понятнее.<br /><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="counting​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">c</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">ounting​()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Подсчитывает количество элементов.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Long count <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#ce7b00;">&quot;1&quot;</span>, <span style=" color:#ce7b00;">&quot;2&quot;</span>, <span style=" color:#ce7b00;">&quot;3&quot;</span>, <span style=" color:#ce7b00;">&quot;4&quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">counting())</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">println(</span>count<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 4</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="filtering​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">f</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">iltering​(Predicate predicate, Collector downstream)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="mapping​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">m</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">apping​(Function mapper, Collector downstream)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="flatMapping​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">f</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">latMapping​(Function downstream)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="reducing​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">r</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">educing​(BinaryOperator op)<br />reducing​(T identity, BinaryOperator op)<br />reducing​(U identity, Function mapper, BinaryOperator op)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Специальная группа коллекторов, которая применяет операции filter, map, flatMap и reduce. filtering​ и flatMapping​ появились в Java 9.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">List<span style=" color:#008000;">&lt;</span>Integer<span style=" color:#008000;">&gt;</span> ints <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">5</span>, <span style=" color:#e02929;">6</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">filtering(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">%</span> <span style=" color:#e02929;">2</span> <span style=" color:#008000;">==</span> <span style=" color:#e02929;">0</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        Collectors.<span style=" color:#000000;">toList()))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 2, 4, 6</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">String s1 <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">5</span>, <span style=" color:#e02929;">6</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">filtering(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">%</span> <span style=" color:#e02929;">2</span> <span style=" color:#008000;">==</span> <span style=" color:#e02929;">0</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        Collectors.<span style=" color:#000000;">mapping(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            x <span style=" color:#008000;">-&gt;</span> Integer.<span style=" color:#000000;">toString(</span>x<span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            Collectors.<span style=" color:#000000;">joining(</span><span style=" color:#ce7b00;">&quot;-&quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 2-4-6</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">String s2 <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">flatMapping(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        x <span style=" color:#008000;">-&gt;</span> IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, x<span style=" color:#000000;">)</span>.<span style=" color:#000000;">mapToObj(</span>Integer<span style=" color:#008000;">::</span><span style=" color:#000000;">toString)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        Collectors.<span style=" color:#000000;">joining(</span><span style=" color:#ce7b00;">&quot;, &quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 0, 1, 0, 0, 1, 2, 0, 1</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">int</span> value <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">5</span>, <span style=" color:#e02929;">6</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">reducing(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#e02929;">0</span>, <span style=" color:#000000;">(</span>a, b<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> a <span style=" color:#008000;">+</span> b</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 21</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">String s3 <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">5</span>, <span style=" color:#e02929;">6</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">reducing(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#ce7b00;">&quot;&quot;</span>, x <span style=" color:#008000;">-&gt;</span> Integer.<span style=" color:#000000;">toString(</span>x<span style=" color:#000000;">)</span>, <span style=" color:#000000;">(</span>a, b<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> a <span style=" color:#008000;">+</span> b</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 123456</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="minBy​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">m</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">inBy​(Comparator comparator)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="maxBy​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">m</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">axBy​(Comparator comparator)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Поиск минимального/максимального элемента, основываясь на заданном компараторе.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Optional<span style=" color:#008000;">&lt;</span>String<span style=" color:#008000;">&gt;</span> min <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#ce7b00;">&quot;ab&quot;</span>, <span style=" color:#ce7b00;">&quot;c&quot;</span>, <span style=" color:#ce7b00;">&quot;defgh&quot;</span>, <span style=" color:#ce7b00;">&quot;ijk&quot;</span>, <span style=" color:#ce7b00;">&quot;l&quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">minBy(</span>Comparator.<span style=" color:#000000;">comparing(</span>String<span style=" color:#008000;">::</span><span style=" color:#000000;">length)))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">min.<span style=" color:#000000;">ifPresent(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// c</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Optional<span style=" color:#008000;">&lt;</span>String<span style=" color:#008000;">&gt;</span> max <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#ce7b00;">&quot;ab&quot;</span>, <span style=" color:#ce7b00;">&quot;c&quot;</span>, <span style=" color:#ce7b00;">&quot;defgh&quot;</span>, <span style=" color:#ce7b00;">&quot;ijk&quot;</span>, <span style=" color:#ce7b00;">&quot;l&quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">maxBy(</span>Comparator.<span style=" color:#000000;">comparing(</span>String<span style=" color:#008000;">::</span><span style=" color:#000000;">length)))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">max.<span style=" color:#000000;">ifPresent(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// defgh</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="groupingBy​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">g</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">roupingBy​(Function classifier)<br />groupingBy​(Function classifier, Collector downstream)<br />groupingBy​(Function classifier, Supplier mapFactory, Collector downstream)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Группирует элементы по критерию, сохраняя результат в Map. Вместе с представленными выше агрегирующими коллекторами, позволяет гибко собирать данные. Подробнее о комбинировании в разделе </span><a href="https://annimon.com/article/2778#examples"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Примеры</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="groupingByConcurrent​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">g</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">roupingByConcurrent​(Function classifier)<br />groupingByConcurrent​(Function classifier, Collector downstream)<br />groupingByConcurrent​(Function classifier, Supplier mapFactory, Collector downstream)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Аналогичный набор методов, только сохраняет в ConcurrentMap.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Map<span style=" color:#008000;">&lt;</span>Integer, List<span style=" color:#008000;">&lt;</span>String<span style=" color:#008000;">&gt;&gt;</span> map1 <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#ce7b00;">&quot;ab&quot;</span>, <span style=" color:#ce7b00;">&quot;c&quot;</span>, <span style=" color:#ce7b00;">&quot;def&quot;</span>, <span style=" color:#ce7b00;">&quot;gh&quot;</span>, <span style=" color:#ce7b00;">&quot;ijk&quot;</span>, <span style=" color:#ce7b00;">&quot;l&quot;</span>, <span style=" color:#ce7b00;">&quot;mnop&quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">groupingBy(</span>String<span style=" color:#008000;">::</span><span style=" color:#000000;">length))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">map1.<span style=" color:#000000;">entrySet()</span>.<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 1=[c, l]</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 2=[ab, gh]</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 3=[def, ijk]</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 4=[mnop]</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Map<span style=" color:#008000;">&lt;</span>Integer, String<span style=" color:#008000;">&gt;</span> map2 <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#ce7b00;">&quot;ab&quot;</span>, <span style=" color:#ce7b00;">&quot;c&quot;</span>, <span style=" color:#ce7b00;">&quot;def&quot;</span>, <span style=" color:#ce7b00;">&quot;gh&quot;</span>, <span style=" color:#ce7b00;">&quot;ijk&quot;</span>, <span style=" color:#ce7b00;">&quot;l&quot;</span>, <span style=" color:#ce7b00;">&quot;mnop&quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">groupingBy(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        String<span style=" color:#008000;">::</span><span style=" color:#000000;">length</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        Collectors.<span style=" color:#000000;">mapping(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            String<span style=" color:#008000;">::</span><span style=" color:#000000;">toUpperCase</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            Collectors.<span style=" color:#000000;">joining())</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">map2.<span style=" color:#000000;">entrySet()</span>.<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 1=CL</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 2=ABGH</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 3=DEFIJK</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 4=MNOP</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Map<span style=" color:#008000;">&lt;</span>Integer, List<span style=" color:#008000;">&lt;</span>String<span style=" color:#008000;">&gt;&gt;</span> map3 <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#ce7b00;">&quot;ab&quot;</span>, <span style=" color:#ce7b00;">&quot;c&quot;</span>, <span style=" color:#ce7b00;">&quot;def&quot;</span>, <span style=" color:#ce7b00;">&quot;gh&quot;</span>, <span style=" color:#ce7b00;">&quot;ijk&quot;</span>, <span style=" color:#ce7b00;">&quot;l&quot;</span>, <span style=" color:#ce7b00;">&quot;mnop&quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">groupingBy(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        String<span style=" color:#008000;">::</span><span style=" color:#000000;">length</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        LinkedHashMap<span style=" color:#008000;">::</span><span style=" color:#0000e6;">new</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        Collectors.<span style=" color:#000000;">mapping(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            String<span style=" color:#008000;">::</span><span style=" color:#000000;">toUpperCase</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            Collectors.<span style=" color:#000000;">toList())</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">map3.<span style=" color:#000000;">entrySet()</span>.<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 2=[AB, GH]</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 1=[C, L]</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 3=[DEF, IJK]</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 4=[MNOP]</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="partitioningBy​"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">p</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">artitioningBy​(Predicate predicate)<br />partitioningBy​(Predicate predicate, Collector downstream)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ещё один интересный метод. Разбивает последовательность элементов по какому-либо критерию. В одну часть попадают все элементы, которые удовлетворяют переданному условию, во вторую — все, которые не удовлетворяют.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Map<span style=" color:#008000;">&lt;</span>Boolean, List<span style=" color:#008000;">&lt;</span>String<span style=" color:#008000;">&gt;&gt;</span> map1 <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#ce7b00;">&quot;ab&quot;</span>, <span style=" color:#ce7b00;">&quot;c&quot;</span>, <span style=" color:#ce7b00;">&quot;def&quot;</span>, <span style=" color:#ce7b00;">&quot;gh&quot;</span>, <span style=" color:#ce7b00;">&quot;ijk&quot;</span>, <span style=" color:#ce7b00;">&quot;l&quot;</span>, <span style=" color:#ce7b00;">&quot;mnop&quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">partitioningBy(</span>s <span style=" color:#008000;">-&gt;</span> s.<span style=" color:#000000;">length()</span> <span style=" color:#008000;">&lt;=</span> <span style=" color:#e02929;">2</span><span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">map1.<span style=" color:#000000;">entrySet()</span>.<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// false=[def, ijk, mnop]</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// true=[ab, c, gh, l]</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Map<span style=" color:#008000;">&lt;</span>Boolean, String<span style=" color:#008000;">&gt;</span> map2 <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#ce7b00;">&quot;ab&quot;</span>, <span style=" color:#ce7b00;">&quot;c&quot;</span>, <span style=" color:#ce7b00;">&quot;def&quot;</span>, <span style=" color:#ce7b00;">&quot;gh&quot;</span>, <span style=" color:#ce7b00;">&quot;ijk&quot;</span>, <span style=" color:#ce7b00;">&quot;l&quot;</span>, <span style=" color:#ce7b00;">&quot;mnop&quot;</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">partitioningBy(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        s <span style=" color:#008000;">-&gt;</span> s.<span style=" color:#000000;">length()</span> <span style=" color:#008000;">&lt;=</span> <span style=" color:#e02929;">2</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        Collectors.<span style=" color:#000000;">mapping(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            String<span style=" color:#008000;">::</span><span style=" color:#000000;">toUpperCase</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            Collectors.<span style=" color:#000000;">joining())</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">map2.<span style=" color:#000000;">entrySet()</span>.<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// false=DEFIJKMNOP</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// true=ABCGHL</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="collector"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">8</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">. Collector</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Интерфейс java.util.stream.Collector служит для сбора элементов стрима в некоторый мутабельный контейнер. Он состоит из таких методов:<br />   - Supplier&lt;A&gt; supplier() — функция, которая создаёт экземпляры контейнеров.<br />   - BiConsumer&lt;A,T&gt; accumulator() — функция, которая кладёт новый элемент в контейнер.<br />   - BinaryOperator&lt;A&gt; combiner() — функция, которая объединяет два контейнера в один. В параллельных стримах каждая часть может собираться в отдельный экземпляр контейнера и в итоге необходимо их объединять в один результирующий.<br />   - Function&lt;A,R&gt; finisher() — функция, которая преобразовывает весь контейнер в конечный результат. Например, можно обернуть List в Collections.unmodifiableList.<br />   - Set&lt;Characteristics&gt; characteristics() — возвращает характеристики коллектора, чтобы внутренняя реализация знала, с чем имеет дело. Например, можно указать, что коллектор поддерживает многопоточность.<br /><br />Характеристики:<br />   - CONCURRENT — коллектор поддерживает многопоточность, а значит отдельные части стрима могут быть успешно положены в контейнер из другого потока.<br />   - UNORDERED — коллектор не зависит от порядка поступаемых элементов.<br />   - IDENTITY_FINISH — функция finish() имеет стандартную реализацию (Function.identity()), а значит её можно не вызывать.<br /><br /></span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="collector-implementation"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">8</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">.1. Реализация собственного коллектора</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Прежде чем писать свой коллектор, нужно убедиться, что задачу нельзя решить при помощи комбинации стандартных коллекторов.<br />К примеру, если нужно собрать лишь уникальные элементы в список, то можно собрать элементы сначала в LinkedHashSet, чтобы сохранился порядок, а потом все элементы добавить в ArrayList. Комбинация collectingAndThen с toCollection и функцией, передающей полученный Set в конструктор ArrayList, делает то, что задумано:<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">9</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">5</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">8</span>, <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">collectingAndThen(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        Collectors.<span style=" color:#000000;">toCollection(</span>LinkedHashSet<span style=" color:#008000;">::</span><span style=" color:#0000e6;">new</span><span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        ArrayList<span style=" color:#008000;">::</span><span style=" color:#0000e6;">new</span><span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 1 2 3 9 5 4 8</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />А вот если задача состоит в том, чтобы собрать уникальные элементы в одну часть, а повторяющиеся в другую, например в Map&lt;Boolean, List&gt;, то при помощи partitioningBy получится не очень красиво:<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">final</span> Set<span style=" color:#008000;">&lt;</span>Integer<span style=" color:#008000;">&gt;</span> elements <span style=" color:#008000;">=</span> <span style=" color:#0000e6;">new</span> HashSet<span style=" color:#008000;">&lt;&gt;</span><span style=" color:#000000;">()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">9</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">5</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">8</span>, <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">partitioningBy(</span>elements<span style=" color:#008000;">::</span><span style=" color:#000000;">add))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach((</span>isUnique, list<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">format(</span><span style=" color:#ce7b00;">&quot;%s: %s%n&quot;</span>, isUnique <span style=" color:#008000;">?</span> <span style=" color:#ce7b00;">&quot;unique&quot;</span> <span style=" color:#008000;">:</span> <span style=" color:#ce7b00;">&quot;repetitive&quot;</span>, list<span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Здесь приходится создавать Set и в предикате коллектора его использовать, что нежелательно. Можно превратить лямбду в анонимную функцию, но это ещё хуже:<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">new</span> Predicate<span style=" color:#008000;">&lt;</span>Integer<span style=" color:#008000;">&gt;</span><span style=" color:#000000;">()</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">final</span> Set<span style=" color:#008000;">&lt;</span>Integer<span style=" color:#008000;">&gt;</span> elements <span style=" color:#008000;">=</span> <span style=" color:#0000e6;">new</span> HashSet<span style=" color:#008000;">&lt;&gt;</span><span style=" color:#000000;">()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    @<span style=" color:#555555;">Override</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">public</span> <span style=" color:#0000e6;">boolean</span> test<span style=" color:#000000;">(</span>Integer t<span style=" color:#000000;">)</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">return</span> elements.<span style=" color:#000000;">add(</span>t<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">}</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Для создания своего коллектора есть два пути:<br />   1. Создать класс, реализующий интерфейс Collector.<br />   2. Воспользоваться фабрикой Collector.of.<br />Если нужно сделать что-то универсальное, чтобы работало для любых типов, то есть использовать дженерики, то во втором варианте можно просто сделать статическую функцию, а внутри использовать Collector.of.<br /><br />Вот полученный коллектор.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">public</span> <span style=" color:#0000e6;">static</span> <span style=" color:#008000;">&lt;</span>T<span style=" color:#008000;">&gt;</span> Collector<span style=" color:#008000;">&lt;</span>T, <span style=" color:#008000;">?</span>, Map<span style=" color:#008000;">&lt;</span>Boolean, List<span style=" color:#008000;">&lt;</span>T<span style=" color:#008000;">&gt;&gt;&gt;</span> partitioningByUniqueness<span style=" color:#000000;">()</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">return</span> Collector.<span style=" color:#008000;">&lt;</span>T, Map.<span style=" color:#000000;">Entry</span><span style=" color:#008000;">&lt;</span>List<span style=" color:#008000;">&lt;</span>T<span style=" color:#008000;">&gt;</span>, Set<span style=" color:#008000;">&lt;</span>T<span style=" color:#008000;">&gt;&gt;</span>, Map<span style=" color:#008000;">&lt;</span>Boolean, List<span style=" color:#008000;">&lt;</span>T<span style=" color:#008000;">&gt;&gt;&gt;</span>of<span style=" color:#000000;">(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#000000;">()</span> <span style=" color:#008000;">-&gt;</span> <span style=" color:#0000e6;">new</span> AbstractMap.<span style=" color:#000000;">SimpleImmutableEntry</span><span style=" color:#008000;">&lt;&gt;</span><span style=" color:#000000;">(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                    <span style=" color:#0000e6;">new</span> ArrayList<span style=" color:#008000;">&lt;</span>T<span style=" color:#008000;">&gt;</span><span style=" color:#000000;">()</span>, <span style=" color:#0000e6;">new</span> LinkedHashSet<span style=" color:#008000;">&lt;&gt;</span><span style=" color:#000000;">())</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#000000;">(</span>c, e<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span style=" color:#0000e6;">if</span> <span style=" color:#000000;">(</span><span style=" color:#008000;">!</span>c.<span style=" color:#000000;">getValue()</span>.<span style=" color:#000000;">add(</span>e<span style=" color:#000000;">))</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                c.<span style=" color:#000000;">getKey()</span>.<span style=" color:#000000;">add(</span>e<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#000000;">}</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#000000;">(</span>c1, c2<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            c1.<span style=" color:#000000;">getKey()</span>.<span style=" color:#000000;">addAll(</span>c2.<span style=" color:#000000;">getKey())</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span style=" color:#0000e6;">for</span> <span style=" color:#000000;">(</span>T e <span style=" color:#008000;">:</span> c2.<span style=" color:#000000;">getValue())</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                <span style=" color:#0000e6;">if</span> <span style=" color:#000000;">(</span><span style=" color:#008000;">!</span>c1.<span style=" color:#000000;">getValue()</span>.<span style=" color:#000000;">add(</span>e<span style=" color:#000000;">))</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                    c1.<span style=" color:#000000;">getKey()</span>.<span style=" color:#000000;">add(</span>e<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span style=" color:#0000e6;">return</span> c1<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#000000;">}</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        c <span style=" color:#008000;">-&gt;</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            Map<span style=" color:#008000;">&lt;</span>Boolean, List<span style=" color:#008000;">&lt;</span>T<span style=" color:#008000;">&gt;&gt;</span> result <span style=" color:#008000;">=</span> <span style=" color:#0000e6;">new</span> HashMap<span style=" color:#008000;">&lt;&gt;</span><span style=" color:#000000;">(</span><span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            result.<span style=" color:#000000;">put(</span>Boolean.<span style=" color:#000000;">FALSE</span>, c.<span style=" color:#000000;">getKey())</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            result.<span style=" color:#000000;">put(</span>Boolean.<span style=" color:#000000;">TRUE</span>, <span style=" color:#0000e6;">new</span> ArrayList<span style=" color:#008000;">&lt;&gt;</span><span style=" color:#000000;">(</span>c.<span style=" color:#000000;">getValue()))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span style=" color:#0000e6;">return</span> result<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#000000;">})</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">}</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Давайте теперь разбираться.<br /><br />Интерфейс Collector объявлен так:<br />interface Collector&lt;T, A, R&gt;<br />   T - тип входных элементов.<br />   A - тип контейнера, в который будут поступать элементы.<br />   R - тип результата.<br /><br />Сигнатура метода, возвращающего коллектор такова:<br />public static &lt;T&gt; Collector&lt;T, ?, Map&lt;Boolean, List&lt;T&gt;&gt;&gt; partitioningByUniqueness()<br />Он принимает элементы типа T, возвращает Map&lt;Boolean, List&lt;T&gt;&gt;, как и partitioningBy. Знак вопроса (джокер) в среднем параметре говорит о том, что внутренний тип реализации для публичного API не важен. Многие методы класса Collectors содержат джокер в качестве типа контейнера.<br /><br />return Collector.&lt;T, Map.Entry&lt;List&lt;T&gt;, Set&lt;T&gt;&gt;, Map&lt;Boolean, List&lt;T&gt;&gt;&gt;of<br />Вот здесь уже пришлось указать тип контейнера. Так как в Java нет класса Pair или Tuple, то два разных типа можно положить в Map.Entry.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// supplier</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">()</span> <span style=" color:#008000;">-&gt;</span> <span style=" color:#0000e6;">new</span> AbstractMap.<span style=" color:#000000;">SimpleImmutableEntry</span><span style=" color:#008000;">&lt;&gt;</span><span style=" color:#000000;">(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">new</span> ArrayList<span style=" color:#008000;">&lt;&gt;</span><span style=" color:#000000;">()</span>, <span style=" color:#0000e6;">new</span> LinkedHashSet<span style=" color:#008000;">&lt;&gt;</span><span style=" color:#000000;">())</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Контейнером будет AbstractMap.SimpleImmutableEntry. В ключе будет список повторяющихся элементов, в значении — множество с уникальными элементами.<br /><br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// accumulator</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">(</span>c, e<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">if</span> <span style=" color:#000000;">(</span><span style=" color:#008000;">!</span>c.<span style=" color:#000000;">getValue()</span>.<span style=" color:#000000;">add(</span>e<span style=" color:#000000;">))</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        c.<span style=" color:#000000;">getKey()</span>.<span style=" color:#000000;">add(</span>e<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">}</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Здесь всё просто. Если элемент нельзя добавить во множество (по причине того, что там уже есть такой элемент), то добавляем его в список повторяющихся элементов.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// combiner</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">(</span>c1, c2<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    c1.<span style=" color:#000000;">getKey()</span>.<span style=" color:#000000;">addAll(</span>c2.<span style=" color:#000000;">getKey())</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">for</span> <span style=" color:#000000;">(</span>T e <span style=" color:#008000;">:</span> c2.<span style=" color:#000000;">getValue())</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">if</span> <span style=" color:#000000;">(</span><span style=" color:#008000;">!</span>c1.<span style=" color:#000000;">getValue()</span>.<span style=" color:#000000;">add(</span>e<span style=" color:#000000;">))</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            c1.<span style=" color:#000000;">getKey()</span>.<span style=" color:#000000;">add(</span>e<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">return</span> c1<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">}</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Нужно объединить два Map.Entry. Списки повторяющихся элементов можно объединить вместе, а вот с уникальными элементами так просто не выйдет — нужно пройтись поэлементно и повторить всё то, что делалось в функции-аккумуляторе. Кстати, лямбду-аккумулятор можно присвоить переменной и тогда цикл можно превратить в </span><span style=" font-family:'Sans Serif'; font-size:9pt; background-color:#ffebee;">c2.getValue().forEach(e -&gt; accumulator.accept(c1, e));</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// finisher</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">c <span style=" color:#008000;">-&gt;</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    Map<span style=" color:#008000;">&lt;</span>Boolean, List<span style=" color:#008000;">&lt;</span>T<span style=" color:#008000;">&gt;&gt;</span> result <span style=" color:#008000;">=</span> <span style=" color:#0000e6;">new</span> HashMap<span style=" color:#008000;">&lt;&gt;</span><span style=" color:#000000;">(</span><span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    result.<span style=" color:#000000;">put(</span>Boolean.<span style=" color:#000000;">FALSE</span>, c.<span style=" color:#000000;">getKey())</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    result.<span style=" color:#000000;">put(</span>Boolean.<span style=" color:#000000;">TRUE</span>, <span style=" color:#0000e6;">new</span> ArrayList<span style=" color:#008000;">&lt;&gt;</span><span style=" color:#000000;">(</span>c.<span style=" color:#000000;">getValue()))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">return</span> result<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">}</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Наконец, возвращаем необходимый результат. В map.get(Boolean.TRUE) будут уникальные, а в map.get(Boolean.FALSE) — повторяющиеся элементы.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Map<span style=" color:#008000;">&lt;</span>Boolean, List<span style=" color:#008000;">&lt;</span>Integer<span style=" color:#008000;">&gt;&gt;</span> map<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">map <span style=" color:#008000;">=</span> Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">9</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">5</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">8</span>, <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>partitioningByUniqueness<span style=" color:#000000;">())</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// {false=[1, 2, 3, 2], true=[1, 2, 3, 9, 5, 4, 8]}</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Хорошей практикой является создание коллекторов, которые принимают ещё один коллектор и зависят от него. Например, можно будет складывать элементы не только в List, но и в любую другую коллекцию (Collectors.toCollection), либо в строку (Collectors.joining).<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">public</span> <span style=" color:#0000e6;">static</span> <span style=" color:#008000;">&lt;</span>T, D, A<span style=" color:#008000;">&gt;</span> Collector<span style=" color:#008000;">&lt;</span>T, <span style=" color:#008000;">?</span>, Map<span style=" color:#008000;">&lt;</span>Boolean, D<span style=" color:#008000;">&gt;&gt;</span> partitioningByUniqueness<span style=" color:#000000;">(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        Collector<span style=" color:#008000;">&lt;?</span> <span style=" color:#0000e6;">super</span> T, A, D<span style=" color:#008000;">&gt;</span> downstream<span style=" color:#000000;">)</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">class</span> Holder<span style=" color:#008000;">&lt;</span>A, B<span style=" color:#008000;">&gt;</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">final</span> A unique, repetitive<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">final</span> B set<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        Holder<span style=" color:#000000;">(</span>A unique, A repetitive, B set<span style=" color:#000000;">)</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span style=" color:#0000e6;">this</span>.<span style=" color:#000000;">unique</span> <span style=" color:#008000;">=</span> unique<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span style=" color:#0000e6;">this</span>.<span style=" color:#000000;">repetitive</span> <span style=" color:#008000;">=</span> repetitive<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span style=" color:#0000e6;">this</span>.<span style=" color:#000000;">set</span> <span style=" color:#008000;">=</span> set<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    BiConsumer<span style=" color:#008000;">&lt;</span>A, <span style=" color:#008000;">?</span> <span style=" color:#0000e6;">super</span> T<span style=" color:#008000;">&gt;</span> downstreamAccumulator <span style=" color:#008000;">=</span> downstream.<span style=" color:#000000;">accumulator()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    BinaryOperator<span style=" color:#008000;">&lt;</span>A<span style=" color:#008000;">&gt;</span> downstreamCombiner <span style=" color:#008000;">=</span> downstream.<span style=" color:#000000;">combiner()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    BiConsumer<span style=" color:#008000;">&lt;</span>Holder<span style=" color:#008000;">&lt;</span>A, Set<span style=" color:#008000;">&lt;</span>T<span style=" color:#008000;">&gt;&gt;</span>, T<span style=" color:#008000;">&gt;</span> accumulator <span style=" color:#008000;">=</span> <span style=" color:#000000;">(</span>t, element<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        A container <span style=" color:#008000;">=</span> t.<span style=" color:#000000;">set</span>.<span style=" color:#000000;">add(</span>element<span style=" color:#000000;">)</span> <span style=" color:#008000;">?</span> t.<span style=" color:#000000;">unique</span> <span style=" color:#008000;">:</span> t.<span style=" color:#000000;">repetitive</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        downstreamAccumulator.<span style=" color:#000000;">accept(</span>container, element<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">}</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">return</span> Collector.<span style=" color:#008000;">&lt;</span>T, Holder<span style=" color:#008000;">&lt;</span>A, Set<span style=" color:#008000;">&lt;</span>T<span style=" color:#008000;">&gt;&gt;</span>, Map<span style=" color:#008000;">&lt;</span>Boolean, D<span style=" color:#008000;">&gt;&gt;</span>of<span style=" color:#000000;">(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span style=" color:#000000;">()</span> <span style=" color:#008000;">-&gt;</span> <span style=" color:#0000e6;">new</span> Holder<span style=" color:#008000;">&lt;&gt;</span><span style=" color:#000000;">(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                downstream.<span style=" color:#000000;">supplier()</span>.<span style=" color:#000000;">get()</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                downstream.<span style=" color:#000000;">supplier()</span>.<span style=" color:#000000;">get()</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                <span style=" color:#0000e6;">new</span> HashSet<span style=" color:#008000;">&lt;&gt;</span><span style=" color:#000000;">()</span> <span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            accumulator,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span style=" color:#000000;">(</span>t1, t2<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                downstreamCombiner.<span style=" color:#000000;">apply(</span>t1.<span style=" color:#000000;">repetitive</span>, t2.<span style=" color:#000000;">repetitive)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                t2.<span style=" color:#000000;">set</span>.<span style=" color:#000000;">forEach(</span>e <span style=" color:#008000;">-&gt;</span> accumulator.<span style=" color:#000000;">accept(</span>t1, e<span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                <span style=" color:#0000e6;">return</span> t1<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span style=" color:#000000;">}</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            t <span style=" color:#008000;">-&gt;</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                Map<span style=" color:#008000;">&lt;</span>Boolean, D<span style=" color:#008000;">&gt;</span> result <span style=" color:#008000;">=</span> <span style=" color:#0000e6;">new</span> HashMap<span style=" color:#008000;">&lt;&gt;</span><span style=" color:#000000;">(</span><span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                result.<span style=" color:#000000;">put(</span>Boolean.<span style=" color:#000000;">FALSE</span>, downstream.<span style=" color:#000000;">finisher()</span>.<span style=" color:#000000;">apply(</span>t.<span style=" color:#000000;">repetitive))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                result.<span style=" color:#000000;">put(</span>Boolean.<span style=" color:#000000;">TRUE</span>, downstream.<span style=" color:#000000;">finisher()</span>.<span style=" color:#000000;">apply(</span>t.<span style=" color:#000000;">unique))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                t.<span style=" color:#000000;">set</span>.<span style=" color:#000000;">clear()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                <span style=" color:#0000e6;">return</span> result<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span style=" color:#000000;">})</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">}</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Алгоритм остался тем же, только теперь уже нельзя во второй контейнер сразу же складывать уникальные элементы, приходится создавать новый set. Для удобства также добавлен класс Holder, который хранит два контейнера для уникальных и повторяющихся элементов, а также само множество.<br /><br />Все операции теперь нужно проводить через переданный коллектор, именуемый downstream. Именно он сможет поставить контейнер нужного типа (</span><span style=" font-family:'Sans Serif'; font-size:9pt; background-color:#ffebee;">downstream.supplier().get()</span><span style=" font-family:'Sans Serif'; font-size:9pt;">), добавить элемент в этот контейнер (</span><span style=" font-family:'Sans Serif'; font-size:9pt; background-color:#ffebee;">downstream.accumulator().accept(container, element)</span><span style=" font-family:'Sans Serif'; font-size:9pt;">), объединить контейнеры и создать окончательный результат.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">9</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">5</span>, <span style=" color:#e02929;">3</span>, <span style=" color:#e02929;">4</span>, <span style=" color:#e02929;">8</span>, <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">map(</span>String<span style=" color:#008000;">::</span><span style=" color:#000000;">valueOf)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>partitioningByUniqueness<span style=" color:#000000;">(</span>Collectors.<span style=" color:#000000;">joining(</span><span style=" color:#ce7b00;">&quot;-&quot;</span><span style=" color:#000000;">)))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach((</span>isUnique, str<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">format(</span><span style=" color:#ce7b00;">&quot;%s: %s%n&quot;</span>, isUnique <span style=" color:#008000;">?</span> <span style=" color:#ce7b00;">&quot;unique&quot;</span> <span style=" color:#008000;">:</span> <span style=" color:#ce7b00;">&quot;repetitive&quot;</span>, str<span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// repetitive: 1-2-3-2</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// unique: 1-2-3-9-5-4-8</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Кстати, первую реализацию метода без аргументов можно теперь заменить на:<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">public</span> <span style=" color:#0000e6;">static</span> <span style=" color:#008000;">&lt;</span>T<span style=" color:#008000;">&gt;</span> Collector<span style=" color:#008000;">&lt;</span>T, <span style=" color:#008000;">?</span>, Map<span style=" color:#008000;">&lt;</span>Boolean, List<span style=" color:#008000;">&lt;</span>T<span style=" color:#008000;">&gt;&gt;&gt;</span> partitioningByUniqueness<span style=" color:#000000;">()</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">return</span> partitioningByUniqueness<span style=" color:#000000;">(</span>Collectors.<span style=" color:#000000;">toList())</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">}</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="spliterator"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">9</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">. Spliterator</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Пришло время немного углубиться в работу Stream API изнутри. Элементы стримов нужно не только итерировать, но ещё и разделять на части и отдавать другим потокам. За итерацию и разбиение отвечает Spliterator. Он даже звучит как Iterator, только с приставкой Split — разделять.<br /><br />Методы интерфейса:<br />   - trySplit — как следует из названия, пытается разделить элементы на две части. Если это сделать не получается, либо элементов недостаточно для разделения, то вернёт null. В остальных случаях возвращает ещё один Spliterator с частью данных.<br />   - tryAdvance​(Consumer action) — если имеются элементы, для которых можно применить действие, то оно применяется и возвращает true, в противном случае возвращается false, но действие не выполняется.<br />   - estimateSize() — возвращает примерное количество элементов, оставшихся для обработки, либо Long.MAX_VALUE, если стрим бесконечный или посчитать количество невозможно.<br />   - characteristics() — возвращает характеристики сплитератора.<br /><br /></span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="characteristics"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">9</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">.1. Характеристики</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />В методе sorted и distinct было упомянуто, что если стрим помечен как отсортированный или содержащий уникальные элементы, то соответствующие операции проводиться не будут. Вот характеристики сплитератора и влияют на это.<br /><br />   - DISTINCT — все элементы уникальны. Сплитераторы всех реализаций Set содержат эту характеристику.<br />   - SORTED — все элементы отсортированы.<br />   - ORDERED — порядок имеет значение. Сплитераторы большинства коллекций содержат эту характеристику, а HashSet, к примеру, нет.<br />   - SIZED — количество элементов точно известно.<br />   - SUBSIZED — количество элементов каждой разбитой части точно известно.<br />   - NONNULL — в элементах не встречается null. Некоторые коллекции из java.util.concurrent, в которые нельзя положить null, содержат эту характеристику.<br />   - IMMUTABLE — источник является иммутабельным и в него нельзя больше добавить элементов, либо удалить их.<br />   - CONCURRENT — источник лоялен к любым изменениям.<br /><br />Разумеется, характеристики могут быть изменены при выполнении цепочки операторов. Например, после sorted добавляется характеристика SORTED, после filter теряется SIZED и т.д.<br /><br /></span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="spliterator-lifecycle"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">9</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">.2. Жизненный цикл сплитератора</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Чтобы понять когда и как сплитератор вызывает тот или иной метод, давайте создадим обёртку, которая </span><a href="https://gist.github.com/aNNiMON/71488fe8bfc6781d641fd4d0ed1f1aa7"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">логирует все вызовы</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">. Чтобы из сплитератора создать стрим, используется класс StreamSupport.<br /><br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">long</span> count <span style=" color:#008000;">=</span> StreamSupport.<span style=" color:#000000;">stream(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    Arrays.<span style=" color:#000000;">asList(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span>.<span style=" color:#000000;">spliterator()</span>, <span style=" color:#0000e6;">true</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">count()</span><span style=" color:#008000;">;</span><img src="image1596896639ew4sw4qnfd.png" /><br />На рисунке показан один из возможных вариантов работы сплитератора. characteristics везде возвращает ORDERED | SIZED | SUBSIZED, так как в List порядок имеет значение, количество элементов и всех разбитых кусков также известно. trySplit делит последовательность пополам, но не обязательно каждая часть будет отправлена новому потоку. В параллельном стриме новый поток может и не создаться, т.к. всё успевает обработаться в главном потоке. В данном же случае, новый поток успевал обработать части до того, как это делал главный поток.<br /><br /></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Spliterator<span style=" color:#008000;">&lt;</span>Integer<span style=" color:#008000;">&gt;</span> s <span style=" color:#008000;">=</span> IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">4</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">boxed()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">toSet())</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">spliterator()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">long</span> count <span style=" color:#008000;">=</span> StreamSupport.<span style=" color:#000000;">stream(</span>s, <span style=" color:#0000e6;">true</span><span style=" color:#000000;">)</span>.<span style=" color:#000000;">count()</span><span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Здесь у сплитератора характеристикой будет SIZED | DISTINCT, а вот у каждой части характеристика SIZED теряется, остаётся только DISTINCT, потому что нельзя поделить множество так, чтобы размер каждой части был известен.<br />В случае с Set было три вызова trySplit, первый якобы делил элементы поровну, после двух других каждая из частей возврашала estimateSize: 1, однако во всех, кроме одной попытка вызвать tryAdvance не увенчалась успехом — возвращался false. А вот на одном из частей, который для estimateSize также возвращал 1, было 4 успешных вызова tryAdvance. Это и подтверждает тот факт, что estimateSize не обязательно должен возвращать действительное число элементов.<br /><br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Arrays.<span style=" color:#000000;">spliterator(</span><span style=" color:#0000e6;">new</span> <span style=" color:#0000e6;">int</span><span style=" color:#000000;">[]</span> <span style=" color:#000000;">{</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span><span style=" color:#000000;">})</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span>.<span style=" color:#000000;">spliterator()</span><span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Ситуация аналогична работе List, только характеристики возвращали ORDERED | SIZED | SUBSIZED | IMMUTABLE.<br /><br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span>.<span style=" color:#000000;">distinct()</span>.<span style=" color:#000000;">spliterator()</span><span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Здесь trySplit возвращал null, а значит поделить последовательно не представлялось возможным. Иерархия вызовов:<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">[</span>main<span style=" color:#000000;">]</span> characteristics<span style=" color:#008000;">:</span> ORDERED <span style=" color:#008000;">|</span> DISTINCT</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">[</span>main<span style=" color:#000000;">]</span> estimateSize<span style=" color:#008000;">:</span> <span style=" color:#e02929;">4</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">[</span>main<span style=" color:#000000;">]</span> trySplit<span style=" color:#008000;">:</span> <span style=" color:#0000e6;">null</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">[</span>main<span style=" color:#000000;">]</span> characteristics<span style=" color:#008000;">:</span> ORDERED <span style=" color:#008000;">|</span> DISTINCT</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">[</span>main<span style=" color:#000000;">]</span> tryAdvance<span style=" color:#008000;">:</span> <span style=" color:#0000e6;">true</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">[</span>main<span style=" color:#000000;">]</span> tryAdvance<span style=" color:#008000;">:</span> <span style=" color:#0000e6;">true</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">[</span>main<span style=" color:#000000;">]</span> tryAdvance<span style=" color:#008000;">:</span> <span style=" color:#0000e6;">true</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">[</span>main<span style=" color:#000000;">]</span> tryAdvance<span style=" color:#008000;">:</span> <span style=" color:#0000e6;">true</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">[</span>main<span style=" color:#000000;">]</span> tryAdvance<span style=" color:#008000;">:</span> <span style=" color:#0000e6;">false</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#009600;">count</span><span style=" color:#008000;">:</span> <span style=" color:#e02929;">4</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">distinct()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">map(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">+</span> <span style=" color:#e02929;">1</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">spliterator()</span><span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Всё, как и выше, только теперь после применения оператора map, флаг DISTINCT исчез.<br /><br /></span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="spliterator-implementation"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">9</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">.3. Реализация сплитератора</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Для правильной реализации сплитератора нужно продумать, как сделать разбиение и обозначить характеристики стрима. Давайте напишем сплитератор, генерирующий последовательность чисел Фибоначчи.<br />Для упрощения задачи нам будет известно максимальное количество элементов для генерирования. А значит мы можем разделять последовательность пополам, а потом быстро просчитывать нужные числа по новому индексу.<br />Осталось определиться с характеристиками. Мы уже решили, что размер последовательности нам будет известен, а значит будет известен и размер каждой разбитой части. Порядок будет важен, так что без флага ORDERED не обойтись. Последовательность Фибоначчи также отсортирована — каждый последующий элемент всегда не меньше предыдущего.<br />А вот с флагом DISTINCT, кажется, промах. 0 1 1 2 3, две единицы повторяются, а значит не видать нам этого флага?<br />На самом деле ничто нам не мешает просчитывать флаги автоматически. Если часть последовательности не будет затрагивать начальные индексы, то этот флаг можно выставить.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">int</span> distinct <span style=" color:#008000;">=</span> <span style=" color:#000000;">(</span>index <span style=" color:#008000;">&gt;=</span> <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span> <span style=" color:#008000;">?</span> DISTINCT <span style=" color:#008000;">:</span> <span style=" color:#e02929;">0</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">return</span> ORDERED <span style=" color:#008000;">|</span> distinct <span style=" color:#008000;">|</span> SIZED <span style=" color:#008000;">|</span> SUBSIZED <span style=" color:#008000;">|</span> IMMUTABLE <span style=" color:#008000;">|</span> NONNULL<span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Полная реализация класса:<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">import</span> <span style=" color:#008000;">java.math.BigInteger;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">import</span> <span style=" color:#008000;">java.util.Spliterator;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">import</span> <span style=" color:#008000;">java.util.function.Consumer;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">public</span> <span style=" color:#0000e6;">class</span> FibonacciSpliterator <span style=" color:#0000e6;">implements</span> Spliterator<span style=" color:#008000;">&lt;</span>BigInteger<span style=" color:#008000;">&gt;</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">private</span> <span style=" color:#0000e6;">final</span> <span style=" color:#0000e6;">int</span> fence<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">private</span> <span style=" color:#0000e6;">int</span> index<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">private</span> BigInteger a, b<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">public</span> FibonacciSpliterator<span style=" color:#000000;">(</span><span style=" color:#0000e6;">int</span> fence<span style=" color:#000000;">)</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">this</span><span style=" color:#000000;">(</span><span style=" color:#e02929;">0</span>, fence<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">protected</span> FibonacciSpliterator<span style=" color:#000000;">(</span><span style=" color:#0000e6;">int</span> start, <span style=" color:#0000e6;">int</span> fence<span style=" color:#000000;">)</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">this</span>.<span style=" color:#000000;">index</span> <span style=" color:#008000;">=</span> start<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">this</span>.<span style=" color:#000000;">fence</span> <span style=" color:#008000;">=</span> fence<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        recalculateNumbers<span style=" color:#000000;">(</span>start<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">private</span> <span style=" color:#0000e6;">void</span> recalculateNumbers<span style=" color:#000000;">(</span><span style=" color:#0000e6;">int</span> start<span style=" color:#000000;">)</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        a <span style=" color:#008000;">=</span> fastFibonacciDoubling<span style=" color:#000000;">(</span>start<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        b <span style=" color:#008000;">=</span> fastFibonacciDoubling<span style=" color:#000000;">(</span>start <span style=" color:#008000;">+</span> <span style=" color:#e02929;">1</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    @<span style=" color:#555555;">Override</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">public</span> <span style=" color:#0000e6;">boolean</span> tryAdvance<span style=" color:#000000;">(</span>Consumer<span style=" color:#008000;">&lt;?</span> <span style=" color:#0000e6;">super</span> BigInteger<span style=" color:#008000;">&gt;</span> action<span style=" color:#000000;">)</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">if</span> <span style=" color:#000000;">(</span>index <span style=" color:#008000;">&gt;=</span> fence<span style=" color:#000000;">)</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span style=" color:#0000e6;">return</span> <span style=" color:#0000e6;">false</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        action.<span style=" color:#000000;">accept(</span>a<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        BigInteger c <span style=" color:#008000;">=</span> a.<span style=" color:#000000;">add(</span>b<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        a <span style=" color:#008000;">=</span> b<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        b <span style=" color:#008000;">=</span> c<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        index<span style=" color:#008000;">++;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">return</span> <span style=" color:#0000e6;">true</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    @<span style=" color:#555555;">Override</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">public</span> FibonacciSpliterator trySplit<span style=" color:#000000;">()</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">int</span> lo <span style=" color:#008000;">=</span> index<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">int</span> mid <span style=" color:#008000;">=</span> <span style=" color:#000000;">(</span>lo <span style=" color:#008000;">+</span> fence<span style=" color:#000000;">)</span> <span style=" color:#008000;">&gt;&gt;&gt;</span> <span style=" color:#e02929;">1</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">if</span> <span style=" color:#000000;">(</span>lo <span style=" color:#008000;">&gt;=</span> mid<span style=" color:#000000;">)</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span style=" color:#0000e6;">return</span> <span style=" color:#0000e6;">null</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        index <span style=" color:#008000;">=</span> mid<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        recalculateNumbers<span style=" color:#000000;">(</span>mid<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">return</span> <span style=" color:#0000e6;">new</span> FibonacciSpliterator<span style=" color:#000000;">(</span>lo, mid<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    @<span style=" color:#555555;">Override</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">public</span> <span style=" color:#0000e6;">long</span> estimateSize<span style=" color:#000000;">()</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">return</span> fence <span style=" color:#008000;">-</span> index<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    @<span style=" color:#555555;">Override</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">public</span> <span style=" color:#0000e6;">int</span> characteristics<span style=" color:#000000;">()</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">int</span> distinct <span style=" color:#008000;">=</span> <span style=" color:#000000;">(</span>index <span style=" color:#008000;">&gt;=</span> <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span> <span style=" color:#008000;">?</span> DISTINCT <span style=" color:#008000;">:</span> <span style=" color:#e02929;">0</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">return</span> ORDERED <span style=" color:#008000;">|</span> distinct <span style=" color:#008000;">|</span> SIZED <span style=" color:#008000;">|</span> SUBSIZED <span style=" color:#008000;">|</span> IMMUTABLE <span style=" color:#008000;">|</span> NONNULL<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" font-style:italic; color:#969696;">/*</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">     * https://www.nayuki.io/page/fast-fibonacci-algorithms</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">     */</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">public</span> <span style=" color:#0000e6;">static</span> BigInteger fastFibonacciDoubling<span style=" color:#000000;">(</span><span style=" color:#0000e6;">int</span> n<span style=" color:#000000;">)</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        BigInteger a <span style=" color:#008000;">=</span> BigInteger.<span style=" color:#000000;">ZERO</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        BigInteger b <span style=" color:#008000;">=</span> BigInteger.<span style=" color:#000000;">ONE</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">for</span> <span style=" color:#000000;">(</span><span style=" color:#0000e6;">int</span> bit <span style=" color:#008000;">=</span> Integer.<span style=" color:#000000;">highestOneBit(</span>n<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span> bit <span style=" color:#008000;">!=</span> <span style=" color:#e02929;">0</span><span style=" color:#008000;">;</span> bit <span style=" color:#008000;">&gt;&gt;&gt;=</span> <span style=" color:#e02929;">1</span><span style=" color:#000000;">)</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            BigInteger d <span style=" color:#008000;">=</span> a.<span style=" color:#000000;">multiply(</span>b.<span style=" color:#000000;">shiftLeft(</span><span style=" color:#e02929;">1</span><span style=" color:#000000;">)</span>.<span style=" color:#000000;">subtract(</span>a<span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            BigInteger e <span style=" color:#008000;">=</span> a.<span style=" color:#000000;">multiply(</span>a<span style=" color:#000000;">)</span>.<span style=" color:#000000;">add(</span>b.<span style=" color:#000000;">multiply(</span>b<span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            a <span style=" color:#008000;">=</span> d<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            b <span style=" color:#008000;">=</span> e<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span style=" color:#0000e6;">if</span> <span style=" color:#000000;">((</span>n <span style=" color:#008000;">&amp;</span> bit<span style=" color:#000000;">)</span> <span style=" color:#008000;">!=</span> <span style=" color:#e02929;">0</span><span style=" color:#000000;">)</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                BigInteger c <span style=" color:#008000;">=</span> a.<span style=" color:#000000;">add(</span>b<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                a <span style=" color:#008000;">=</span> b<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                b <span style=" color:#008000;">=</span> c<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">return</span> a<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">}</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Вот как разбиваются теперь элементы параллельного стрима:<br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">StreamSupport.<span style=" color:#000000;">stream(</span><span style=" color:#0000e6;">new</span> FibonacciSpliterator<span style=" color:#000000;">(</span><span style=" color:#e02929;">7</span><span style=" color:#000000;">)</span>, <span style=" color:#0000e6;">true</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">count()</span><span style=" color:#008000;">;</span><img src="image1596896639y4893o7fvj.png" /><br /><br /></li></ol>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">StreamSupport.<span style=" color:#000000;">stream(</span><span style=" color:#0000e6;">new</span> FibonacciSpliterator<span style=" color:#000000;">(</span><span style=" color:#e02929;">500</span><span style=" color:#000000;">)</span>, <span style=" color:#0000e6;">true</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">count()</span><span style=" color:#008000;">;</span><img src="image15968966399u1fyfdljr.png" /><br /><br /><br /></li></ol>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="source-creation"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">1</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">0. Другие способы создания источников</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Стрим из сплитератора — это самый эффективный способ создания стрима, но кроме него есть и другие способы.<br /><br /></span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="stream-from-iterator"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">1</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">0.1. Стрим из итератора</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Благодаря классу Spliterators, можно преобразовать любой итератор в сплитератор. Вот пример создания стрима из итератора, генерирующего бесконечную последовательность чисел Фибоначчи.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">public</span> <span style=" color:#0000e6;">class</span> FibonacciIterator <span style=" color:#0000e6;">implements</span> Iterator<span style=" color:#008000;">&lt;</span>BigInteger<span style=" color:#008000;">&gt;</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">private</span> BigInteger a <span style=" color:#008000;">=</span> BigInteger.<span style=" color:#000000;">ZERO</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">private</span> BigInteger b <span style=" color:#008000;">=</span> BigInteger.<span style=" color:#000000;">ONE</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    @<span style=" color:#555555;">Override</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">public</span> <span style=" color:#0000e6;">boolean</span> hasNext<span style=" color:#000000;">()</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">return</span> <span style=" color:#0000e6;">true</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    @<span style=" color:#555555;">Override</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">public</span> BigInteger next<span style=" color:#000000;">()</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        BigInteger result <span style=" color:#008000;">=</span> a<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        a <span style=" color:#008000;">=</span> b<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        b <span style=" color:#008000;">=</span> result.<span style=" color:#000000;">add(</span>b<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">return</span> result<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">StreamSupport.<span style=" color:#000000;">stream(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    Spliterators.<span style=" color:#000000;">spliteratorUnknownSize(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">new</span> FibonacciIterator<span style=" color:#000000;">()</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        Spliterator.<span style=" color:#000000;">ORDERED</span> <span style=" color:#008000;">|</span> Spliterator.<span style=" color:#000000;">SORTED)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">false</span> <span style=" font-style:italic; color:#969696;">/* is parallel*/</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">limit(</span><span style=" color:#e02929;">10</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="stream-iterate-and-map"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">1</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">0.2. Stream.iterate + map</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Можно воспользоваться двумя операторами: iterate + map, чтобы создать всё тот же стрим из чисел Фибоначчи.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream.<span style=" color:#000000;">iterate(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">new</span> BigInteger<span style=" color:#000000;">[]</span> <span style=" color:#000000;">{</span> BigInteger.<span style=" color:#000000;">ZERO</span>, BigInteger.<span style=" color:#000000;">ONE</span> <span style=" color:#000000;">}</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    t <span style=" color:#008000;">-&gt;</span> <span style=" color:#0000e6;">new</span> BigInteger<span style=" color:#000000;">[]</span> <span style=" color:#000000;">{</span> t<span style=" color:#000000;">[</span><span style=" color:#e02929;">1</span><span style=" color:#000000;">]</span>, t<span style=" color:#000000;">[</span><span style=" color:#e02929;">0</span><span style=" color:#000000;">]</span>.<span style=" color:#000000;">add(</span>t<span style=" color:#000000;">[</span><span style=" color:#e02929;">1</span><span style=" color:#000000;">])</span> <span style=" color:#000000;">})</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">map(</span>t <span style=" color:#008000;">-&gt;</span> t<span style=" color:#000000;">[</span><span style=" color:#e02929;">0</span><span style=" color:#000000;">])</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">limit(</span><span style=" color:#e02929;">10</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Для удобства можно обернуть всё в метод и вызывать fibonacciStream().limit(10).forEach(...).<br /><br /></span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="intstream-range-and-map"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">1</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">0.3. IntStream.range + map</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Ещё один гибкий и удобный способ создать стрим. Если у вас есть какие-то данные, которые можно получить по индексу, то можно создать числовой промежуток при помощи оператора range, затем поэлементно с помощью него обращаться к данным через map/mapToObj.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">200</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">mapToObj(</span>i <span style=" color:#008000;">-&gt;</span> fibonacci<span style=" color:#000000;">(</span>i<span style=" color:#000000;">))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">JSONArray arr <span style=" color:#008000;">=</span> ...</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">IntStream</span>.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, arr.<span style=" color:#000000;">length())</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">mapToObj(</span>JSONArray<span style=" color:#008000;">::</span><span style=" color:#000000;">getJSONObject)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">map(</span>obj <span style=" color:#008000;">-&gt;</span> ...<span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="examples"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">1</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">1. Примеры</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Прежде чем перейти к более приближенным к жизни примерам, стоит сказать, что если код уже написан без стримов и работает хорошо, не нужно сломя голову всё переписывать. Также бывает ситуации, когда красиво реализовать задачу с использованием Stream API не получается, в таком случае смиритесь и не тяните стримы за уши.<br /><br />Дан массив аргументов. Нужно получить Map, где каждому ключу будет соответствовать своё значение.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">String<span style=" color:#000000;">[]</span> arguments <span style=" color:#008000;">=</span> <span style=" color:#000000;">{</span><span style=" color:#ce7b00;">&quot;-i&quot;</span>, <span style=" color:#ce7b00;">&quot;in.txt&quot;</span>, <span style=" color:#ce7b00;">&quot;--limit&quot;</span>, <span style=" color:#ce7b00;">&quot;40&quot;</span>, <span style=" color:#ce7b00;">&quot;-d&quot;</span>, <span style=" color:#ce7b00;">&quot;1&quot;</span>, <span style=" color:#ce7b00;">&quot;-o&quot;</span>, <span style=" color:#ce7b00;">&quot;out.txt&quot;</span><span style=" color:#000000;">}</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Map<span style=" color:#008000;">&lt;</span>String, String<span style=" color:#008000;">&gt;</span> argsMap <span style=" color:#008000;">=</span> <span style=" color:#0000e6;">new</span> LinkedHashMap<span style=" color:#008000;">&lt;&gt;</span><span style=" color:#000000;">(</span>arguments.<span style=" color:#000000;">length</span> <span style=" color:#008000;">/</span> <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">for</span> <span style=" color:#000000;">(</span><span style=" color:#0000e6;">int</span> i <span style=" color:#008000;">=</span> <span style=" color:#e02929;">0</span><span style=" color:#008000;">;</span> i <span style=" color:#008000;">&lt;</span> arguments.<span style=" color:#000000;">length</span><span style=" color:#008000;">;</span> i <span style=" color:#008000;">+=</span> <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    argsMap.<span style=" color:#000000;">put(</span>arguments<span style=" color:#000000;">[</span>i<span style=" color:#000000;">]</span>, arguments<span style=" color:#000000;">[</span>i <span style=" color:#008000;">+</span> <span style=" color:#e02929;">1</span><span style=" color:#000000;">])</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">argsMap.<span style=" color:#000000;">forEach((</span>key, value<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">format(</span><span style=" color:#ce7b00;">&quot;%s: %s%n&quot;</span>, key, value<span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// -i: in.txt</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// --limit: 40</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// -d: 1</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// -o: out.txt</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Быстро и понятно. А вот для обратной задачи — сконвертировать Map с аргументами в массив строк, стримы помогут. <br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">String<span style=" color:#000000;">[]</span> args <span style=" color:#008000;">=</span> argsMap.<span style=" color:#000000;">entrySet()</span>.<span style=" color:#000000;">stream()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">flatMap(</span>e <span style=" color:#008000;">-&gt;</span> Stream.<span style=" color:#000000;">of(</span>e.<span style=" color:#000000;">getKey()</span>, e.<span style=" color:#000000;">getValue()))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">toArray(</span>String<span style=" color:#000000;">[]</span><span style=" color:#008000;">::</span><span style=" color:#0000e6;">new</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">println(</span>String.<span style=" color:#000000;">join(</span><span style=" color:#ce7b00;">&quot; &quot;</span>, args<span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// -i in.txt --limit 40 -d 1 -o out.txt</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Дан список студентов.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">List<span style=" color:#008000;">&lt;</span>Student<span style=" color:#008000;">&gt;</span> students <span style=" color:#008000;">=</span> Arrays.<span style=" color:#000000;">asList(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">new</span> Student<span style=" color:#000000;">(</span><span style=" color:#ce7b00;">&quot;Alex&quot;</span>, Speciality.<span style=" color:#000000;">Physics</span>, <span style=" color:#e02929;">1</span><span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">new</span> Student<span style=" color:#000000;">(</span><span style=" color:#ce7b00;">&quot;Rika&quot;</span>, Speciality.<span style=" color:#000000;">Biology</span>, <span style=" color:#e02929;">4</span><span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">new</span> Student<span style=" color:#000000;">(</span><span style=" color:#ce7b00;">&quot;Julia&quot;</span>, Speciality.<span style=" color:#000000;">Biology</span>, <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">new</span> Student<span style=" color:#000000;">(</span><span style=" color:#ce7b00;">&quot;Steve&quot;</span>, Speciality.<span style=" color:#000000;">History</span>, <span style=" color:#e02929;">4</span><span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">new</span> Student<span style=" color:#000000;">(</span><span style=" color:#ce7b00;">&quot;Mike&quot;</span>, Speciality.<span style=" color:#000000;">Finance</span>, <span style=" color:#e02929;">1</span><span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">new</span> Student<span style=" color:#000000;">(</span><span style=" color:#ce7b00;">&quot;Hinata&quot;</span>, Speciality.<span style=" color:#000000;">Biology</span>, <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">new</span> Student<span style=" color:#000000;">(</span><span style=" color:#ce7b00;">&quot;Richard&quot;</span>, Speciality.<span style=" color:#000000;">History</span>, <span style=" color:#e02929;">1</span><span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">new</span> Student<span style=" color:#000000;">(</span><span style=" color:#ce7b00;">&quot;Kate&quot;</span>, Speciality.<span style=" color:#000000;">Psychology</span>, <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">new</span> Student<span style=" color:#000000;">(</span><span style=" color:#ce7b00;">&quot;Sergey&quot;</span>, Speciality.<span style=" color:#000000;">ComputerScience</span>, <span style=" color:#e02929;">4</span><span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">new</span> Student<span style=" color:#000000;">(</span><span style=" color:#ce7b00;">&quot;Maximilian&quot;</span>, Speciality.<span style=" color:#000000;">ComputerScience</span>, <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">new</span> Student<span style=" color:#000000;">(</span><span style=" color:#ce7b00;">&quot;Tim&quot;</span>, Speciality.<span style=" color:#000000;">ComputerScience</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">new</span> Student<span style=" color:#000000;">(</span><span style=" color:#ce7b00;">&quot;Ann&quot;</span>, Speciality.<span style=" color:#000000;">Psychology</span>, <span style=" color:#e02929;">1</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">enum</span> Speciality <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    Biology, ComputerScience, Economics, Finance,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    History, Philosophy, Physics, Psychology</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">}</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">У класса Student реализованы все геттеры и сеттеры, toString и equals+hashCode.<br /><br />Нужно сгруппировать всех студентов по курсу.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">students.<span style=" color:#000000;">stream()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">groupingBy(</span>Student<span style=" color:#008000;">::</span><span style=" color:#000000;">getYear))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">entrySet()</span>.<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 1=[Alex: Physics 1, Mike: Finance 1, Richard: History 1, Ann: Psychology 1]</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 2=[Julia: Biology 2, Hinata: Biology 2, Kate: Psychology 2]</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 3=[Maximilian: ComputerScience 3]</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 4=[Rika: Biology 4, Steve: History 4, Sergey: ComputerScience 4]</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 5=[Tim: ComputerScience 5]</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Вывести в алфавитном порядке список специальностей, на которых учатся перечисленные в списке студенты.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">students.<span style=" color:#000000;">stream()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">map(</span>Student<span style=" color:#008000;">::</span><span style=" color:#000000;">getSpeciality)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">distinct()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">sorted(</span>Comparator.<span style=" color:#000000;">comparing(</span>Enum<span style=" color:#008000;">::</span><span style=" color:#000000;">name))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// Biology</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// ComputerScience</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// Finance</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// History</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// Physics</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// Psychology</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Вывести количество учащихся на каждой из специальностей.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">students.<span style=" color:#000000;">stream()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">groupingBy(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                Student<span style=" color:#008000;">::</span><span style=" color:#000000;">getSpeciality</span>, Collectors.<span style=" color:#000000;">counting()))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">forEach((</span>s, count<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">println(</span>s <span style=" color:#008000;">+</span> <span style=" color:#ce7b00;">&quot;: &quot;</span> <span style=" color:#008000;">+</span> count<span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// Psychology: 2</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// Physics: 1</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// ComputerScience: 3</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// Finance: 1</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// Biology: 3</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// History: 2</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Сгруппировать студентов по специальностям, сохраняя алфавитный порядок специальности, а затем сгруппировать по курсу.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Map<span style=" color:#008000;">&lt;</span>Speciality, Map<span style=" color:#008000;">&lt;</span>Integer, List<span style=" color:#008000;">&lt;</span>Student<span style=" color:#008000;">&gt;&gt;&gt;</span> result <span style=" color:#008000;">=</span> students.<span style=" color:#000000;">stream()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">sorted(</span>Comparator</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                .<span style=" color:#000000;">comparing(</span>Student<span style=" color:#008000;">::</span><span style=" color:#000000;">getSpeciality</span>, Comparator.<span style=" color:#000000;">comparing(</span>Enum<span style=" color:#008000;">::</span><span style=" color:#000000;">name))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                .<span style=" color:#000000;">thenComparing(</span>Student<span style=" color:#008000;">::</span><span style=" color:#000000;">getYear)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">groupingBy(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                Student<span style=" color:#008000;">::</span><span style=" color:#000000;">getSpeciality</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                LinkedHashMap<span style=" color:#008000;">::</span><span style=" color:#0000e6;">new</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                Collectors.<span style=" color:#000000;">groupingBy(</span>Student<span style=" color:#008000;">::</span><span style=" color:#000000;">getYear)))</span><span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Теперь это всё красиво вывести.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">result.<span style=" color:#000000;">forEach((</span>s, map<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">println(</span><span style=" color:#ce7b00;">&quot;-= &quot;</span> <span style=" color:#008000;">+</span> s <span style=" color:#008000;">+</span> <span style=" color:#ce7b00;">&quot; =-&quot;</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    map.<span style=" color:#000000;">forEach((</span>year, list<span style=" color:#000000;">)</span> <span style=" color:#008000;">-&gt;</span> System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">format(</span><span style=" color:#ce7b00;">&quot;%d: %s%n&quot;</span>, year, list.<span style=" color:#000000;">stream()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            .<span style=" color:#000000;">map(</span>Student<span style=" color:#008000;">::</span><span style=" color:#000000;">getName)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            .<span style=" color:#000000;">sorted()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">            .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">joining(</span><span style=" color:#ce7b00;">&quot;, &quot;</span><span style=" color:#000000;">)))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">println()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">})</span><span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />-= Biology =-<br />2: Hinata, Julia<br />4: Rika<br /><br />-= ComputerScience =-<br />3: Maximilian<br />4: Sergey<br />5: Tim<br /><br />-= Finance =-<br />1: Mike<br /><br />-= History =-<br />1: Richard<br />4: Steve<br /><br />-= Physics =-<br />1: Alex<br /><br />-= Psychology =-<br />1: Ann<br />2: Kate<br /><br />Проверить, есть ли третьекурсники среди учащихся всех специальностей кроме физики и CS.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">students.<span style=" color:#000000;">stream()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">filter(</span>s <span style=" color:#008000;">-&gt;</span> <span style=" color:#008000;">!</span>EnumSet.<span style=" color:#000000;">of(</span>Speciality.<span style=" color:#000000;">ComputerScience</span>, Speciality.<span style=" color:#000000;">Physics)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                .<span style=" color:#000000;">contains(</span>s.<span style=" color:#000000;">getSpeciality()))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">anyMatch(</span>s <span style=" color:#008000;">-&gt;</span> s.<span style=" color:#000000;">getYear()</span> <span style=" color:#008000;">==</span> <span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// false</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Вычислить число Пи методом Монте-Карло.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">final</span> Random rnd <span style=" color:#008000;">=</span> <span style=" color:#0000e6;">new</span> Random<span style=" color:#000000;">()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">final</span> <span style=" color:#0000e6;">double</span> r <span style=" color:#008000;">=</span> <span style=" color:#e02929;">1000.0</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">final</span> <span style=" color:#0000e6;">int</span> max <span style=" color:#008000;">=</span> <span style=" color:#e02929;">10000000</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">long</span> count <span style=" color:#008000;">=</span> IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, max<span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">mapToObj(</span>i <span style=" color:#008000;">-&gt;</span> rnd.<span style=" color:#000000;">doubles(</span><span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span>.<span style=" color:#000000;">map(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">*</span> r<span style=" color:#000000;">)</span>.<span style=" color:#000000;">toArray())</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">parallel()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">filter(</span>arr <span style=" color:#008000;">-&gt;</span> Math.<span style=" color:#000000;">hypot(</span>arr<span style=" color:#000000;">[</span><span style=" color:#e02929;">0</span><span style=" color:#000000;">]</span>, arr<span style=" color:#000000;">[</span><span style=" color:#e02929;">1</span><span style=" color:#000000;">])</span> <span style=" color:#008000;">&lt;=</span> r<span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">count()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">System.<span style=" color:#000000;">out</span>.<span style=" color:#000000;">println(</span><span style=" color:#e02929;">4.0</span> <span style=" color:#008000;">*</span> count <span style=" color:#008000;">/</span> max<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 3.1415344</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Вывести таблицу умножения.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">rangeClosed(</span><span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">9</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">boxed()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">flatMap(</span>i <span style=" color:#008000;">-&gt;</span> IntStream.<span style=" color:#000000;">rangeClosed(</span><span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">9</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                .<span style=" color:#000000;">mapToObj(</span>j <span style=" color:#008000;">-&gt;</span> String.<span style=" color:#000000;">format(</span><span style=" color:#ce7b00;">&quot;%d * %d = %d&quot;</span>, i, j, i <span style=" color:#008000;">*</span> j<span style=" color:#000000;">))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 2 * 2 = 4</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 2 * 3 = 6</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 2 * 4 = 8</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 2 * 5 = 10</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// ...</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 9 * 7 = 63</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 9 * 8 = 72</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 9 * 9 = 81</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Или более экзотический вариант, в 4 столбца, как на школьных тетрадях. <br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntFunction<span style=" color:#008000;">&lt;</span>IntFunction<span style=" color:#008000;">&lt;</span>String<span style=" color:#008000;">&gt;&gt;</span> function <span style=" color:#008000;">=</span> i <span style=" color:#008000;">-&gt;</span> j <span style=" color:#008000;">-&gt;</span> String.<span style=" color:#000000;">format(</span><span style=" color:#ce7b00;">&quot;%d x %2d = %2d&quot;</span>, i, j, i <span style=" color:#008000;">*</span> j<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntFunction<span style=" color:#008000;">&lt;</span>IntFunction<span style=" color:#008000;">&lt;</span>IntFunction<span style=" color:#008000;">&lt;</span>String<span style=" color:#008000;">&gt;&gt;&gt;</span> repeaterX <span style=" color:#008000;">=</span> count <span style=" color:#008000;">-&gt;</span> i <span style=" color:#008000;">-&gt;</span> j <span style=" color:#008000;">-&gt;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, count<span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                .<span style=" color:#000000;">mapToObj(</span>delta <span style=" color:#008000;">-&gt;</span> function.<span style=" color:#000000;">apply(</span>i <span style=" color:#008000;">+</span> delta<span style=" color:#000000;">)</span>.<span style=" color:#000000;">apply(</span>j<span style=" color:#000000;">))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">joining(</span><span style=" color:#ce7b00;">&quot;</span><span style=" font-weight:600; color:#ce7b00;">\t</span><span style=" color:#ce7b00;">&quot;</span><span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntFunction<span style=" color:#008000;">&lt;</span>IntFunction<span style=" color:#008000;">&lt;</span>IntFunction<span style=" color:#008000;">&lt;</span>IntFunction<span style=" color:#008000;">&lt;</span>String<span style=" color:#008000;">&gt;&gt;&gt;&gt;</span> repeaterY <span style=" color:#008000;">=</span> countY <span style=" color:#008000;">-&gt;</span> countX <span style=" color:#008000;">-&gt;</span> i <span style=" color:#008000;">-&gt;</span> j <span style=" color:#008000;">-&gt;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, countY<span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                .<span style=" color:#000000;">mapToObj(</span>deltaY <span style=" color:#008000;">-&gt;</span> repeaterX.<span style=" color:#000000;">apply(</span>countX<span style=" color:#000000;">)</span>.<span style=" color:#000000;">apply(</span>i<span style=" color:#000000;">)</span>.<span style=" color:#000000;">apply(</span>j <span style=" color:#008000;">+</span> deltaY<span style=" color:#000000;">))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">                .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">joining(</span><span style=" color:#ce7b00;">&quot;</span><span style=" font-weight:600; color:#ce7b00;">\n</span><span style=" color:#ce7b00;">&quot;</span><span style=" color:#000000;">))</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntFunction<span style=" color:#008000;">&lt;</span>String<span style=" color:#008000;">&gt;</span> row <span style=" color:#008000;">=</span> i <span style=" color:#008000;">-&gt;</span> repeaterY.<span style=" color:#000000;">apply(</span><span style=" color:#e02929;">10</span><span style=" color:#000000;">)</span>.<span style=" color:#000000;">apply(</span><span style=" color:#e02929;">4</span><span style=" color:#000000;">)</span>.<span style=" color:#000000;">apply(</span>i<span style=" color:#000000;">)</span>.<span style=" color:#000000;">apply(</span><span style=" color:#e02929;">1</span><span style=" color:#000000;">)</span> <span style=" color:#008000;">+</span> <span style=" color:#ce7b00;">&quot;</span><span style=" font-weight:600; color:#ce7b00;">\n</span><span style=" color:#ce7b00;">&quot;</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">of(</span><span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">6</span><span style=" color:#000000;">)</span>.<span style=" color:#000000;">mapToObj(</span>row<span style=" color:#000000;">)</span>.<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span><img src="image1596896639yd32607cn2.png" /><br />Но это, конечно же, шутка. Писать такой код вас никто не заставляет.<br /><br /><br /></li></ol>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="tasks"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">1</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">2. Задачи</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">concat(</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">2</span>, <span style=" color:#000000;">)</span>,</li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        IntStream.<span style=" color:#000000;">rangeClosed(</span>, <span style=" color:#000000;">))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 2, 3, 4, 5, -1, 0, 1, 2</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">5</span>, <span style=" color:#e02929;">30</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">limit(</span><span style=" color:#e02929;">12</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">skip(</span><span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">limit(</span><span style=" color:#e02929;">6</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">skip(</span><span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// , , , </span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">10</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">skip(</span><span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">dropWhile(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">&lt;</span> <span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">limit()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 5, 6, 7</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">10</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">skip()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">takeWhile(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">&lt;</span> <span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">limit(</span><span style=" color:#e02929;">3</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 3, 4</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">flatMap(</span>i <span style=" color:#008000;">-&gt;</span> IntStream.<span style=" color:#000000;">generate(()</span> <span style=" color:#008000;">-&gt;</span> <span style=" color:#000000;">)</span>.<span style=" color:#000000;">())</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 1, 2, 2, 3, 3, 3, 4, 4, 4, 4</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">int</span> x <span style=" color:#008000;">=</span> IntStream.<span style=" color:#000000;">range(</span><span style=" color:#008000;">-</span><span style=" color:#e02929;">2</span>, <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">map(</span>i <span style=" color:#008000;">-&gt;</span> i <span style=" color:#008000;">*</span> <span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">reduce(</span><span style=" color:#e02929;">10</span>, Integer<span style=" color:#008000;">::</span><span style=" color:#000000;">sum)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// x: 0</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">0</span>, <span style=" color:#e02929;">10</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">boxed()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">(</span>i <span style=" color:#008000;">-&gt;</span> <span style=" color:#000000;">))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">entrySet()</span>.<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// false=[1, 3, 5, 7, 9]</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// true=[0, 2, 4, 6, 8]</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">range(</span><span style=" color:#008000;">-</span><span style=" color:#e02929;">5</span>, <span style=" color:#e02929;">0</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">flatMap(</span>i <span style=" color:#008000;">-&gt;</span> IntStream.<span style=" color:#000000;">of(</span>i, <span style=" color:#000000;">))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// -5, -4, -3, -2, -1, 1, 2, 3, 4, 5</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">range(</span><span style=" color:#008000;">-</span><span style=" color:#e02929;">5</span>, <span style=" color:#e02929;">0</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">flatMap(</span>i <span style=" color:#008000;">-&gt;</span> IntStream.<span style=" color:#000000;">of(</span>i, <span style=" color:#000000;">))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">sorted(</span>Comparator.<span style=" color:#000000;">comparing(</span>Math<span style=" color:#008000;">::</span><span style=" color:#000000;">))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// -1, 1, -2, 2, -3, 3, -4, 4, -5, 5</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IntStream.<span style=" color:#000000;">range(</span><span style=" color:#e02929;">1</span>, <span style=" color:#e02929;">5</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">flatMap(</span>i <span style=" color:#008000;">-&gt;</span> IntStream.<span style=" color:#000000;">generate(()</span> <span style=" color:#008000;">-&gt;</span> i<span style=" color:#000000;">)</span>.<span style=" color:#000000;">limit(</span>i<span style=" color:#000000;">))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">boxed()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">collect(</span>Collectors.<span style=" color:#000000;">groupingBy(</span>Function.<span style=" color:#000000;">identity()</span>, Collectors.<span style=" color:#000000;">()))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">entrySet()</span>.<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 1=1</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 2=2</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 3=3</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// 4=4</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="best-practices"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">1</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">3. Советы и best practices</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />1. Если задачу не получается красиво решить стримами, не решайте её стримами.<br /><br />2. Если задачу не получается красиво решить стримами, не решайте её стримами!<br /><br />3. Если задача уже красиво решена не стримами, всё работает и всех всё устраивает, не перерешивайте её стримами!<br /><br />4. В большинстве случаев нет смысла сохранять стрим в переменную. Используйте цепочку вызовов методов (method chaining).<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// Нечитабельно</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Stream<span style=" color:#008000;">&lt;</span>Integer<span style=" color:#008000;">&gt;</span> stream <span style=" color:#008000;">=</span> list.<span style=" color:#000000;">stream()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">stream <span style=" color:#008000;">=</span> stream.<span style=" color:#000000;">filter(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">&gt;</span> <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">stream.<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// Так лучше</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">list.<span style=" color:#000000;">stream()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">filter(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">&gt;</span> <span style=" color:#e02929;">2</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />5. Старайтесь сперва отфильтровать стрим от ненужных элементов или ограничить его, а потом выполнять преобразования.<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// Лишние затраты</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">list.<span style=" color:#000000;">stream()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">sorted()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">filter(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">&gt;</span> <span style=" color:#e02929;">0</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// Так лучше</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">list.<span style=" color:#000000;">stream()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">filter(</span>x <span style=" color:#008000;">-&gt;</span> x <span style=" color:#008000;">&gt;</span> <span style=" color:#e02929;">0</span><span style=" color:#000000;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">sorted()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">forEach(</span>System.<span style=" color:#000000;">out</span><span style=" color:#008000;">::</span><span style=" color:#000000;">println)</span><span style=" color:#008000;">;</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />6. Не используйте параллельные стримы везде, где только можно. Затраты на разбиение элементов, обработку в другом потоке и последующее их слияние порой больше, чем выполнение в одном потоке. Читайте об этом </span><a href="http://gee.cs.oswego.edu/dl/html/StreamParallelGuidance.html"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">здесь — When to use parallel streams</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">.<br /><br />7. При использовании параллельных стримов, убедитесь, что нигде нет блокирующих операций или чего-то, что может помешать обработке элементов.<br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">list.<span style=" color:#000000;">parallelStream()</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        .<span style=" color:#000000;">filter(</span>s <span style=" color:#008000;">-&gt;</span> isFileExists<span style=" color:#000000;">(</span>hash<span style=" color:#000000;">(</span>s<span style=" color:#000000;">)))</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        ...</li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />8. Если где-то в модели вы возвращаете копию списка или другой коллекции, то подумайте о замене на стримы. Например:<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[копировать]</span></a><span style=" font-family:'monospace'; font-size:9pt;"> </span><a href="javascript:void(0);"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">[скачать]</span></a></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// Было</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">class</span> Model <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">private</span> <span style=" color:#0000e6;">final</span> List<span style=" color:#008000;">&lt;</span>String<span style=" color:#008000;">&gt;</span> data<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">public</span> List<span style=" color:#008000;">&lt;</span>String<span style=" color:#008000;">&gt;</span> getData<span style=" color:#000000;">()</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">return</span> <span style=" color:#0000e6;">new</span> ArrayList<span style=" color:#008000;">&lt;&gt;</span><span style=" color:#000000;">(</span>data<span style=" color:#000000;">)</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic; color:#969696;">// Стало</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0000e6;">class</span> Model <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">private</span> <span style=" color:#0000e6;">final</span> List<span style=" color:#008000;">&lt;</span>String<span style=" color:#008000;">&gt;</span> data<span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#0000e6;">public</span> Stream<span style=" color:#008000;">&lt;</span>String<span style=" color:#008000;">&gt;</span> dataStream<span style=" color:#000000;">()</span> <span style=" color:#000000;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">        <span style=" color:#0000e6;">return</span> data.<span style=" color:#000000;">stream()</span><span style=" color:#008000;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">    <span style=" color:#000000;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">}</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Теперь есть возможность получить не только список </span><span style=" font-family:'Sans Serif'; font-size:9pt; background-color:#ffebee;">model.dataStream().collect(toList());</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, но и множество, любую другую коллекцию, отфильтровать что-то, отсортировать и так далее. Оригинальный List&lt;String&gt; data так и останется нетронутым.<br /><br /></span></p>
<hr />
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Если возникнут какие-либо вопросы, смело задавайте их в комментариях.</span></p></body></html>