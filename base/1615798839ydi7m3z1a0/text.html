<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#282c34;"><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">import </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">com.haulmont.cuba.core.global.*<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">import </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">com.groupstp.rtneo.entity.*<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">import </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">com.groupstp.rtneo.service.*<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">import </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">java.text.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">SimpleDateFormat<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">import </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">java.util.*<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">import </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">java.util.stream.*<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">import </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">com.haulmont.cuba.core.global.ViewRepository;<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">import </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">java.util.stream.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Collectors<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">import </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">java.util.function.*;<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">import </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">java.util.function.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicate<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">import </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">java.util.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Map</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Entry<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">import </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">java.text.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">SimpleDateFormat</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">;<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">import </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">groovy.transform.</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#e5c07b;">InheritConstructors</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">;<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">import </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">groovy.transform.</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#e5c07b;">Field<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">import </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">de.diedavids.cuba.runtimediagnose.groovy.*<br /><br /></span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicators</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">log </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">= log<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//GroovyConsoleLogger log = log<br /><br /></span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">_</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;isTWO - Проверка что всего два контрагента с дублями объектов</span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\n</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">+<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERS&amp;IND - Один физ и один ИП</span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\n</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">+<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;oneLogin - Только один заходил</span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\n</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">+<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;INDLogin - Заходил ИП-шник</span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\n</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">+<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;samePersonName - Одинаковые имя физ лица и руководителя ИП</span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\n</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">+<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;oneCrePers - Берет физ лиц, и проверяет что у них только один объект</span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\n</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">+<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoPyment - Физ лицо Не платил</span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\n</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">+<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSCreateAdmin - Физ лицо, и объект создан admin</span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\n</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">+<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoContract - Договора договоров созданных не a.kotvinskiy@groupstp.ru</span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\n</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;<br /></span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br /><br />Contragent.mixin </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">ParamsMix<br /><br /></span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">count = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">0</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">;<br /><br /></span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">startGroupRealEstate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//startForGroupContragent()<br /></span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">_</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(count)<br /><br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">void </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">check</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupRealEstate </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">group</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">AbstractCleaner </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">cleaner = </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">new </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">RemoveNoFilter</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />    cleaner.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">= log<br />    cleaner.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">dataManager </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">= dataManager<br /><br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">if</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">checkPredicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicators</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">instance</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">analiseGroupRealEstate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">group</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)){<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">group</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getReport</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">if</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(cleaner.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">clean</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">group</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)){<br />            log.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;***&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />            count++<br />        }<br />    }<br /><br />}<br /><br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">void </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">startGroupRealEstate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(){<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">df = </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">new </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">SimpleDateFormat</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;dd-MM-yyyy&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">UnaryOperator</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;ContragentRealEstate&gt; fSetCrePeriod = </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">if</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getValidityFrom() == </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">null</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.setValidityFrom(df.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">parse</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">'01-01-2000'</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">))<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">if</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getValidityTo() == </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">null</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.setValidityTo(df.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">parse</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">'01-01-2119'</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">))<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br /><br /><br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">i = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">0<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">queryRes = dataManager.load(ContragentRealEstate.</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">class</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />            .query(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">'select distinct cre from rtneo$EntityesTemporarySet t join rtneo$ContragentRealEstate cre on cre.id = t.entityId where cre.realEstate.cadastralNumber is not null and not cre.realEstate.cadastralNumber = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\'</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">Без к/н</span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\'</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;"> and cre.contragent.name is not null and t.setName = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\'</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">doubleCRE_16-03-21_2</span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\'</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;"> order by cre.realEstate.id, cre.contragent.name'</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">// and cre.realEstate.cadastralNumber = \'38:36:000034:20790\'<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.view(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getViewCre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">())<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//            .firstResult(i*100)<br />//            .maxResults(100)<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.list().stream()<br />            .map</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">fSetCrePeriod.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">apply</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.collect(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Collectors</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">groupingBy</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getRealEstate()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Collectors</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">groupingBy</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getContragent()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)))<br /><br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">List</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupRealEstate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt; groups = [];<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">for</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">realEstate </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">: queryRes.entrySet()){<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Group </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">group = </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">new </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupRealEstate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">realEstate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getKey())<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Можно запихать в коллекцию или класс<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">group.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">setLog</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(log)<br />        group.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">setDataManager</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(dataManager)<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">for</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">contragent </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">: </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">realEstate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getValue().entrySet()){<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">for</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">item </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">: </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">contragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getValue()){<br />                group.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">addCre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">contragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getKey(), </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">item</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />            }<br />        }<br />        groups.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">add</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(group)<br />    }<br /><br />    groups.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">each</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">check</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br /></span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">}<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">void </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">startForGroupContragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(){<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">i = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">0<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">queryRes = dataManager.load(ContragentRealEstate.</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">class</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />            .query(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">'select distinct re from rtneo$EntityesTemporarySet t join rtneo$ContragentRealEstate cre on cre.id = t.entityId join rtneo$ContragentRealEstate re on re.contragent.id = cre.contragent.id where cre.realEstate.cadastralNumber is not null and not cre.realEstate.cadastralNumber = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\'</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">Без к/н</span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\'</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;"> and cre.contragent.name is not null and  t.setName = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\'</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">doubleCRE_16-03-21_2</span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\'</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;"> and cre.realEstate.cadastralNumber = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\'</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">38:36:000034:18414</span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\'</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;"> order by cre.realEstate.id, cre.contragent.name'</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />            .view(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getViewCre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">())<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//    .firstResult(i*10000)<br />//    .maxResults(10000)<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.list().stream()<br />            .collect(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Collectors</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">groupingBy</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getContragent().getName()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Collectors</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">groupingBy</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getRealEstate().getCadastralNumber()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)))<br /><br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">List</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupContragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt; groups = [];<br /><br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">for</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">contragent </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">: queryRes.entrySet()){<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupContragent </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">group = </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">new </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupContragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">contragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getKey())<br />        group.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">setLog</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(log)<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">for</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">re </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">: </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">contragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getValue().entrySet()){<br /><br />            </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">for</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">item </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">: </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">re</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getValue()){<br />                group.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">addCre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">item</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getContragent(), </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">item</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />            }<br /><br />        }<br /><br />        groups.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">add</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(group)<br /><br />    }<br /><br />    groups.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">each</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">setup(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br /><br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">_</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(count)<br />}<br /><br /><br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getContract</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupContragent </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">group</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//    return dataManager.loadValue('select count(c) from rtneo$Contract c where c.contragent.id in :contragents and not (c.createdBy = \'a.kotvinskiy@groupstp.ru\' or c.createdBy = \'a.honyakov@groupstp.ru\' or c.createdBy = \'admin\')', int)<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">dataManager.loadValue(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">'select count(c) from rtneo$Contract c where c.contragent.id in :contragents'</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">int</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />            .parameter(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;contragents&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">group</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">map</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().getId()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">collect</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Collectors</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">toList</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()))<br />            .optional().orElse(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">0</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />}<br /><br /><br /><br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//GLOBAL CLASS<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">class </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupMix</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">{}<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">class </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">ParamsMix</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">{<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">boolean </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">isLogin</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">;<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">boolean </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">isPayment</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">;<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">boolean </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">isContract</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">;<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">int     </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">countCRE</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">;<br />}<br /><br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">interface </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Group</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">{<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">void </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getReport</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">void </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">addCre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(Contragent </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">contragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, ContragentRealEstate </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />}<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">abstract class </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">AbstractGroup </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">implements </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Group</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">{<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">;<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">dataManager</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">;<br /><br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">void </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">addCre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(Contragent </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">contragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, ContragentRealEstate </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">if</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(cres.get(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">contragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">) == </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">null</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">HashMap </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">props = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getProps</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">contragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">contragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.isLogin = props.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">get</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;login&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">contragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.isPayment = props.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">get</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;payment&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">contragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.countCRE = props.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">get</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;cre&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">contragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.isContract = props.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">get</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;contracts&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />            cres.put(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">contragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, [])<br />        }<br /><br />        cres.get(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">contragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">).add(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />    }<br /><br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">HashMap </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getProps</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(Contragent </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">contragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">prop = [</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;login&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;payment&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;cre&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;contracts&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">]<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">q = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">'select '</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">+<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">'(select count(s) from sec$SessionLogEntry s where c.user = s.user), '</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">+<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">'(select count(p) from rtneo$Payment p where p.inn = c.inn), '</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">+<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">'(select count(cre) from rtneo$ContragentRealEstate cre where cre.contragent.id = c.id), '</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">+<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">'(select count(ct) from rtneo$Contract ct where ct.contragent.id = c.id and not ct.createdBy = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\'</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">a.kotvinskiy@groupstp.ru</span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\'</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">) '</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">+<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">'from rtneo$Contragent c where c.id = :contragentId'<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">values = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">dataManager</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.loadValues(q)<br />                .properties(prop)<br />                .parameter(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;contragentId&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">contragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getId()<br /><br />                )<br />                .optional()<br />                .orElse(</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">null</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">prop.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">collect</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Collectors</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">toMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">values == </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">null </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">? </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">0 </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">: values.getValue(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">))<br />    }<br />}<br /><br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#e5c07b;">@InheritConstructors<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">class </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupContragent </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">extends </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">AbstractGroup</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">{<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">name</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">;<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Контрагенты с объектами<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">HashMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;Contragent, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">List</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;ContragentRealEstate&gt;&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">cres </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">= [:];<br /><br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">GroupContragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">name</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">this</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">name </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">= </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">name<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">}<br /><br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">void </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getReport</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(){<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">name</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">for</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">: </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">cres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()){<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot; Contragent - </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().getId()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">, user - </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().getUser()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getValue</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">each</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;     </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getId()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;"> - </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getRealEstate().getCadastralNumber()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">}<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;===================================================================================&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />    }<br />}<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#e5c07b;">@InheritConstructors<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">class </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupRealEstate </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">extends </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">AbstractGroup</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">{<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">df </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">= </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">new </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">SimpleDateFormat</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;dd-MM-yyyy&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />    RealEstate </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">realEstate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">;<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">HashMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;Contragent, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">List</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;ContragentRealEstate&gt;&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">cres </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">= [:];<br /><br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">GroupRealEstate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(RealEstate </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">realEstate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">this</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">realEstate </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">= </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">realEstate<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">}<br /><br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">void </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getReport</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(){<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">realEstate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getCadastralNumber())<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">for</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">: </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">cres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()){<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot; Contragent(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().getType()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">) - </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().getName()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;  [inn - </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().getInn()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">; createdBy - </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().getCreatedBy()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">; isLogin - </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isLogin</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">; headPersonName - </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().headPersonName</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">]&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;  [isLogin - </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isLogin</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">; isPayment - </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isPayment</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">; countCRE - </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().countCRE</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">; isContract - </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isContract</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">]&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br />            </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">for</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">item </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">: </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getValue</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()){<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;     ContragentRealEstate - </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">item</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getId()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;         [share - </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">item</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getShare()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">]&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;         [from - </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">item</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getValidityFrom() == </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">null </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">? </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">null </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">: </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">df</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.format(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">item</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getValidityFrom())</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">]&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;         [to - </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">item</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getValidityTo() == </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">null </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">? </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">null </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">: </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">df</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.format(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">item</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getValidityTo())</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">]&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;         [own - </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">item</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getOwnType()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">]&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;         [createdBy - </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">item</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.createdBy</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">]&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br />            }<br /><br />        }<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;===================================================================================&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />    }<br />}<br /><br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//@interface LogConsole {<br />//   GroovyConsoleLogger log()<br />//}<br />//@LogConsole(log = log)<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">abstract class </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">AbstractCleaner</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">{<br />    GroovyConsoleLogger </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">DataManager </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">dataManager<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">boolean </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">clean</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupRealEstate </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">group</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">BiPredicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedHashMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Entry</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;Contragent, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">List</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;ContragentRealEstate&gt;&gt;&gt;&gt;, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Entry</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;Contragent, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">List</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;ContragentRealEstate&gt;&gt;&gt; applyFilter = </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">l</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">l</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.entrySet().stream().map</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">p </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">p</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getValue() </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">as </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Entry</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;Contragent, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">List</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;ContragentRealEstate&gt;&gt;&gt;</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.allMatch</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">p </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">p</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.test(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">as </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Entry</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />        }<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">persMap = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">group</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">applyFilter.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">test</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getFilters</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">group</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">), </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">collect</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Collectors</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">toList</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">())<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(persMap)<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">if</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(persMap.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">isEmpty</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">())</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return false<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">of</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(persMap.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">findFirst</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">get</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">())<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//        persMap.stream()<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">peek</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().contracts.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">each</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}}<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//        .peek{v -&gt; v.getKey().contracts.each{dataManager.remove(it)}}<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">peek</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getValue</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">each</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}}<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//        .peek{v -&gt; v.getValue().each{dataManager.remove(it)}}<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">peek</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">())</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//        .peek{v -&gt; dataManager.remove(v.getKey())}<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">count</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return true<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">}<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">abstract def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getFilters</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupRealEstate </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">group</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">);<br />}<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#e5c07b;">@InheritConstructors<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">class </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">FirstOldRemover </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">extends </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">AbstractCleaner</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">{<br /><br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getFilters</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupRealEstate </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">group</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedHashMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Entry</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;Contragent, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">List</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;ContragentRealEstate&gt;&gt;&gt;&gt; pred = [:]<br /><br />        pred.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;isPayment&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">!</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Boolean</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">TRUE</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isPayment)<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />        pred.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;CreAdmin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getValue</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">anyMatch</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.createdBy.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;admin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />        }</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />        pred.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;isContract&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">!</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Boolean</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">TRUE</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isContract)<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />        pred.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;isLogin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">!</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Boolean</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">TRUE</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isLogin)<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">pred<br />    }<br />}<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#e5c07b;">@InheritConstructors<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">class </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">RemoveIndAndPers </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">extends </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">AbstractCleaner</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">{<br /><br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getFilters</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupRealEstate </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">group</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedHashMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Entry</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;Contragent, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">List</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;ContragentRealEstate&gt;&gt;&gt;&gt; pred = [:]<br /><br />        pred.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;isPayment&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">!</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Boolean</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">TRUE</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isPayment)<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />        pred.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;CreAdmin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getValue</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">anyMatch</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.createdBy.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;admin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />        }</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />        pred.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;isContract&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">!</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Boolean</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">TRUE</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isContract)<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />        pred.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;isLogin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">!</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Boolean</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">TRUE</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isLogin)<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Имя ИП и физ лица совпадают<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">pred.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;isDoubleContragent&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">group</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                        .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">map</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">!</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.id.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().id)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//                        .filter{(v.getKey().headPersonName != null &amp;&amp; it.name != null) || (v.getKey().name != null &amp;&amp; it.headPersonName != null)}<br />                        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">anyMatch</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">((</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().headPersonName != </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">null </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&amp;&amp; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.name != </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">null</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">) &amp;&amp; (</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().headPersonName?.toUpperCase().equals(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.name?.toUpperCase()))) ||<br />                                ((</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().name != </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">null </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&amp;&amp; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.headPersonName != </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">null</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">) &amp;&amp; (</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().name?.toUpperCase().equals(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.headPersonName?.toUpperCase())))</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />        }</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">pred<br />    }<br />}<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#e5c07b;">@InheritConstructors<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">class </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">RemovePers </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">extends </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">AbstractCleaner</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">{<br /><br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getFilters</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupRealEstate </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">group</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedHashMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Entry</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;Contragent, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">List</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;ContragentRealEstate&gt;&gt;&gt;&gt; pred = [:]<br /><br />        pred.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;isPayment&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">!</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Boolean</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">TRUE</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isPayment)<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />        pred.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;CreAdmin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getValue</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">anyMatch</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.createdBy.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;admin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">) || </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.createdBy.startsWith(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;dataminer&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">) || </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.createdBy.startsWith(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;m.solomatov&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />        }</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />        pred.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;isContract&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">!</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Boolean</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">TRUE</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isContract)<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />        pred.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;isLogin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">!</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Boolean</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">TRUE</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isLogin)<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Отрефакторить!!!<br />        //Сравнивает имя физ лица и владельца ИП<br />//        pred.put(&quot;isDoublePers&quot;, {<br />//            v -&gt;<br />//                group.getCres().entrySet().stream()<br />//                        .map{it.getKey()}<br />//                        .filter{!it.id.equals(v.getKey().id)}<br />//                        .anyMatch{<br />//                            (v.getKey().name != null &amp;&amp; it.name != null)<br />//                                    &amp;&amp; v.getKey().name.toUpperCase().equals(it.name.toUpperCase())<br />//                        }<br />//        })<br /><br />//        //Сравнивает имена<br />//        pred.put(&quot;chekForName&quot;,{<br />//            v -&gt;<br />//                group.getCres().entrySet().stream()<br />//                    .map{it.getKey()}<br />//                    .filter{!it.id.equals(v.getKey().id)}<br />//                    .filter{it.name != null}<br />//                    .map{it.name as String}<br />//                    .map{it.toUpperCase().replace(&quot;ИП &quot;, &quot;&quot;)}<br />//                    .anyMatch{v.getKey().name != null &amp;&amp; it.equals(v.getKey().name.toUpperCase().replace(&quot;ИП &quot;, &quot;&quot;))<br />//                    }<br />//        })<br />        //Сравнивает имена с перестановкой<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Function</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">List</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt;&gt; fStrToList = </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">t</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">if</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">t </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">== </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">null</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return new </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">ArrayList</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;&gt;()<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">of</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">t</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.toUpperCase().replace(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;ИП &quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">).replace(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;  &quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot; &quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">).split(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot; &quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">))<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">map</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.trim()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">peek</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#ef596f;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">collect</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Collectors</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">toList</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">())</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br /><br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">pred.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;chekForName2&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">,</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">group</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                        .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">map</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">!</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.id.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().id)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">anyMatch</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">fStrToList.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">apply</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().name).</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">retainAll</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(fStrToList.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">apply</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.name))<br />                        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">false</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br /><br /><br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">pred<br />    }<br />}<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#e5c07b;">@InheritConstructors<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">class </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">RemoveNoFilter </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">extends </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">AbstractCleaner</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">{<br /><br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getFilters</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupRealEstate </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">group</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedHashMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Entry</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;Contragent, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">List</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;ContragentRealEstate&gt;&gt;&gt;&gt; pred = [:]<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">pred<br />    }<br />}<br /><br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#e5c07b;">@Singleton</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">lazy</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">=</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">true</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">class </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicators</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">{<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">static </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedHashMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupContragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt;&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">= [:]<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">static </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">GroovyConsoleLogger </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">log<br /><br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">static</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">{<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">loadPred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />    }<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Загружаем все предикаты в одну коллекцию, при первом обращении<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">static void </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">loadPred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(){<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">BiPredicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;ContragentRealEstate, ContragentRealEstate&gt; fCrossPeriod = </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v1 </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">if</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">== </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">null</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return false<br />                if</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v1 </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">== </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">null</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return false<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.validityFrom&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v1</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.validityTo &amp;&amp; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.validityTo&gt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v1</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.validityFrom<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Проверка что всего два контрагента с дублями объектов<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;isTWO&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">size</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">() == </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">2<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;&gt;1&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">size</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">() &gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">1<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;&gt;2&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">size</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">() &gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">2<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Один физ и один ИП<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERS&amp;IND&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">map</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().getType()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(ContragentType.PERSONAL) || </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(ContragentType.INDIVIDUAL)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">collect</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Collectors</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">toSet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">())<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">size</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">() &gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">1<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERS&amp;ORG&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">map</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().getType()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(ContragentType.PERSONAL) || </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(ContragentType.ORGANISATION)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">collect</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Collectors</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">toSet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">())<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">size</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">() &gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">1<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERS&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">map</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().getType()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(ContragentType.PERSONAL)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">collect</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Collectors</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">toList</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">())<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">size</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">() &gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">1<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Только один заходил<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;oneLogin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isLogin</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">count</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">() == </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">1<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Ни кто не заходил<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;noLogin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isLogin</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">count</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">() == </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">0<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Заходил ИП-шник<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;INDLogin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">map</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.isLogin &amp;&amp; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getType().equals(ContragentType.INDIVIDUAL)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">count</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">() == </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">1<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Одинаковые имя физ лица и руководителя ИП<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;samePersonName&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">map</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">map</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getType().equals(ContragentType.INDIVIDUAL) || </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getType().equals(ContragentType.ORGANISATION) ? </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.headPersonName : </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.name</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">collect</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Collectors</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">toSet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">())<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">size</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">() == </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">1<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;sameName&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">map</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">map</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.name</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">collect</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Collectors</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">toSet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">())<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">size</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">() == </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">1<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Берет физ лиц, и проверяет что у них только один объект<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;oneCrePers&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().getType().equals(ContragentType.PERSONAL)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">allMatch</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getValue</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">size</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">() == </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">1</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />        }</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Физ лицо Не платил<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoPyment&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().getType().equals(ContragentType.PERSONAL)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">allMatch</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">!</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Boolean</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">TRUE</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isPayment)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />        }</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Физ лицо, и объект создан admin<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSCreateAdmin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().getType().equals(ContragentType.PERSONAL)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">allMatch</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getValue</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">anyMatch</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.createdBy.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;admin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">) || </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.createdBy.startsWith(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;dataminer&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">) || </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.createdBy.startsWith(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;m.solomatov&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}}<br />        }</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Договора договоров созданных не a.kotvinskiy@groupstp.ru<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoContract&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().getType().equals(ContragentType.PERSONAL)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">allMatch</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">!</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Boolean</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">TRUE</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isContract)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />        }</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoLogin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().getType().equals(ContragentType.PERSONAL)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">allMatch</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">!</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Boolean</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">TRUE</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isLogin)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />        }</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br /><br /><br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Физ лицо Не платил - Любой<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoPymentAny&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().getType().equals(ContragentType.PERSONAL)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">anyMatch</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">!</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Boolean</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">TRUE</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isPayment)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />        }</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Физ лицо, и объект создан admin - Любой<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSCreateAdminAny&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().getType().equals(ContragentType.PERSONAL)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">anyMatch</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getValue</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">anyMatch</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">cre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.createdBy.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;admin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}}<br />        }</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Договора договоров созданных не a.kotvinskiy@groupstp.ru - Любой<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoContractAny&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().getType().equals(ContragentType.PERSONAL)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">anyMatch</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">!</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Boolean</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">TRUE</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isContract)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />        }</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Физ лицо не заходил - Любой<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoLoginAny&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().getType().equals(ContragentType.PERSONAL)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">anyMatch</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">!</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Boolean</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">TRUE</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().isLogin)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />        }</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Пересечение периодов<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;crossPeriod&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">list = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                        .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                        .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">map</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getValue</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">collect</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">new </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">ArrayList</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;&gt;()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">b</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">a</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">b</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.addAll(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">a</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">b</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">a</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">b</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.addAll(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">a</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">list.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//                        .map{v -&gt; fSetCrePeriod.apply(v)}<br />                        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">anyMatch</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">list.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//                                .map{v1 -&gt; fSetCrePeriod.apply(v1)}<br />                                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v1 </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">!(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.id.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v1</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.id))</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                                </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">anyMatch</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v1 </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">fCrossPeriod.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">test</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">,</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v1</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                        }</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">true</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Доля более 1<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;share &gt; 1&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">list = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                        .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                        .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">map</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">v</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getValue</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">collect</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">new </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">ArrayList</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;&gt;()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">b</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">a</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">b</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.addAll(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">a</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">b</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">a</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">b</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.addAll(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">a</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">list.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">map</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.share == </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">null </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">? </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">BigDecimal</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">ONE </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">: </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.share </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">as </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">BigDecimal</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">reduce</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">x</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">y </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">x</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">add</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">y</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">orElse</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">0.0</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)&gt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">1.0<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br /><br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">put</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;chekForName&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">,</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">List</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;Contragent&gt; contragents = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getCres</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">map</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">!</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.getType().equals(ContragentType.ORGANISATION)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">collect</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Collectors</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">toList</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">())<br /><br />            </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">contragents.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                    .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">filter</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.name != </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">null</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">map</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.name </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">as </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">map</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">toUpperCase</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">().</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">replace</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;ИП &quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />                    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">collect</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Collectors</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">toSet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()).</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">size</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">() &lt; contragents.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">size</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />    }<br /><br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">private </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedHashMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupContragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt;&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getFromPred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedList</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">list</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">list</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />                .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">collect</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Collectors</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">toMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(<br />                        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">,<br />                        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">pred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">get</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">,<br />                        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">oldValue</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">newValue </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">oldValue</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">,<br />                        </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">new </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedHashMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;&gt;()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">))<br />    }<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//Разные отборы, какие предикаты выполнять<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedHashMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupContragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt;&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getNoneCheckGroupRealEstate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(){<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedList</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt; list = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">[</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;&gt;1&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;crossPeriod&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;share &gt; 1&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">]<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getFromPred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(list)<br />    }<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedHashMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupContragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt;&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getAnaliseGroupRealEstate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(){<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedList</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt; list = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">[</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;&gt;1&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;crossPeriod&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;share &gt; 1&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">]<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getFromPred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(list)<br />    }<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedHashMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupContragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt;&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getRemovedGroupRealEstate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(){<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedList</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt; list = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">[</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;isTWO&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERS&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;sameName&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoPymentAny&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSCreateAdminAny&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoContractAny&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoLoginAny&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">]<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getFromPred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(list)<br />    }<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedHashMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupContragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt;&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getRemovedGroupRealEstateOneFilter</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(){<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedList</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt; list = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">[</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoPyment&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSCreateAdmin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoContract&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoLogin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">]<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getFromPred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(list)<br />    }<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedHashMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupContragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt;&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getRemovedGroupRealEstate_53</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(){<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedList</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt; list = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">[</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;isTWO&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERS&amp;ORG&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoPyment&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSCreateAdmin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoContract&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoLogin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">]<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getFromPred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(list)<br />    }<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedHashMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupContragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt;&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getRemovedGroupRealEstate_62</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(){<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedList</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt; list = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">[</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;isTWO&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERS&amp;IND&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;samePersonName&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoPyment&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSCreateAdmin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoContract&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoLogin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">]<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getFromPred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(list)<br />    }<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedHashMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupContragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt;&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getRemovedGroupRealEstate_536</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(){<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedList</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt; list = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">[</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;isTWO&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERS&amp;IND&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;oneLogin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;INDLogin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;samePersonName&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;oneCrePers&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoPyment&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSCreateAdmin&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;PERSNoContract&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">]<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getFromPred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(list)<br />    }<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedHashMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupContragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt;&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getDeleteRealEstate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(){<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getFromPred</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">([])<br />    }<br />}<br /><br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">//GLOBAL<br />//Проверяет что все предикаты возвращают true<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">boolean </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">checkPredicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedHashMap</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupContragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt;&gt; </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">preds</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Group </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">group</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">boolean </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">viewFalse </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">= </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">false</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">LinkedList</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt; messages = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">[]<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">boolean </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">match = </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">preds<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">entrySet</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />            .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">stream</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()<br />            .</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">allMatch</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">-&gt;<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">boolean </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">is = ((</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Predicate</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&lt;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">GroupContragent</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">&gt;)</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getValue</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()).</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">test</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">group</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">if</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(is || </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">viewFalse</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)messages.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">add</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getKey</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">()</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">  -   </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">is</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />                </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">is<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">if</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(match)messages.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">each</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">log.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">match<br />}<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">getViewCre</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(){<br />    ViewRepository vRep = AppBeans.get(ViewRepository.NAME)<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">vRep.getView(ContragentRealEstate.</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">class</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;_local&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />            .addProperty(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;contragent&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, vRep.getView(Contragent.</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">class</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;_minimal&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />                    .addProperty(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;user&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, vRep.getView(ExtUser.</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">class</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;_minimal&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">))<br />                    .addProperty(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;contracts&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, vRep.getView(Contract.</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">class</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;_minimal&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">))<br />                    .addProperty(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;name&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />                    .addProperty(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;type&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />                    .addProperty(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;inn&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />                    .addProperty(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;createdBy&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />                    .addProperty(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;headPersonName&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">))<br />            .addProperty(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;realEstate&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, vRep.getView(RealEstate.</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">class</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;_minimal&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />                    .addProperty(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;cadastralNumber&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">))<br />            .addProperty(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;share&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />            .addProperty(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;validityFrom&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />            .addProperty(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;validityTo&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />            .addProperty(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;ownType&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />            .addProperty(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;createdBy&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)<br />}<br /><br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#5c6370;">/**<br /> * Логирование<br /> */<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">import </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">com.haulmont.cuba.core.app.serialization.EntitySerializationAPI;<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">import </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">com.groupstp.rtneo.util.JsonUtil;<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">import </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">java.text.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">DateFormat</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">;<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">import </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">java.text.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">SimpleDateFormat</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">;<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">private </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">_</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Object </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">obj</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">, </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">String</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">... </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">options</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">if</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">obj </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">== </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">null</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;LOG.ERROR: Object is null!!!&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">);</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">return</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">}<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">if</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">options</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">size</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">() == </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">0</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">obj</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)}<br />    </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">for</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">def </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">option </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">: </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">options</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">if</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">option</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;str&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)){</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">obj</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)}<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">if</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">option</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;for&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)){</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">obj</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">each</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">_</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">it</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)}<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">if</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">option</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;json&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)){<br />            EntitySerializationAPI entitySerializationAPI = AppBeans.get(EntitySerializationAPI.NAME)<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">try</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(entitySerializationAPI.toJson(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">obj</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">))}<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">catch</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Exception </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;LOG.ERROR: JSON entity serialization failed&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)}<br />        }<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">if</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">option</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;objJson&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)){<br />            JsonUtil jsonUtil = AppBeans.get(JsonUtil.NAME)<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">try</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">{log.(jsonUtil.toJson(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">obj</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">))}<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">catch</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Exception </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;LOG.ERROR: JSON object serialization failed&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)}<br />        }<br />        </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">if</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">option</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">equals</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;date&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)){<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">DateFormat </span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">df = </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">new </span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">SimpleDateFormat</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;dd.MM.yyyy&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">);<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">try</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(df.</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">format</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">obj</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">))}<br />            </span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">catch</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Exception </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">e</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){</span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;LOG.ERROR: Failed date format&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)}<br />        }<br />    }<br />}<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">private </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">log2</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Object </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">obj</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){log.debug(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">obj</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)}<br /></span><span style=" font-family:'JetBrains Mono,monospace'; font-style:italic; color:#d55fde;">private </span><span style=" font-family:'JetBrains Mono,monospace'; color:#61afef;">log</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#e5c07b;">Object </span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">obj</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">){log.result.append(</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">$</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">{</span><span style=" font-family:'JetBrains Mono,monospace'; color:#d19a66;">obj</span><span style=" font-family:'JetBrains Mono,monospace'; font-weight:600; color:#bbbbbb;">}</span><span style=" font-family:'JetBrains Mono,monospace'; color:#2bbac5;">\n</span><span style=" font-family:'JetBrains Mono,monospace'; color:#89ca78;">&quot;</span><span style=" font-family:'JetBrains Mono,monospace'; color:#bbbbbb;">)}</span></pre></body></html>