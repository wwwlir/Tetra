<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="2" cellpadding="0">
<tr>
<td width="60%">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="docContent-wrapper-ppg"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Г</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">лава 9. Функции и операторы</span></p></td>
<td width="10%">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/docs/postgrespro/9.5/index"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Начало</span></a></p></td>
<td width="10%">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-enum"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">След.</span></a></p></td></tr></table>
<hr />
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="functions-datetime"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">9</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">.9. Операторы и функции даты/времени</span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-extract"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">9.9.1. </span></a><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-extract"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">EXTRACT</span></a><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-extract"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">, </span></a><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-extract"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">date_part</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-trunc"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">9.9.2. </span></a><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-trunc"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">date_trunc</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-zoneconvert"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">9.9.3. </span></a><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-zoneconvert"><span style=" font-family:'monospace'; font-size:9pt; text-decoration: underline; color:#0000ff;">AT TIME ZONE</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-current"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">9.9.4. Текущая дата/время</span></a></p>
<p style=" margin-top:0px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-delay"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">9.9.5. Задержка выполнения</span></a></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Все существующие функции для обработки даты/времени перечислены в </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-table"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Таблице 9.28</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">, а подробнее они описаны в следующих подразделах. Поведение основных арифметических операторов (</span><span style=" font-family:'monospace'; font-size:9pt;">+</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, </span><span style=" font-family:'monospace'; font-size:9pt;">*</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> и т. д.) описано в </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#operators-datetime-table"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Таблице 9.27</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">. Функции форматирования этих типов данных были перечислены в </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-formatting"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Разделе 9.8</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">. Общую информацию об этих типах вы получили (или можете получить) в </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/datatype-datetime"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Разделе 8.5</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Все описанные ниже функции и операторы принимают две разновидности типов </span><span style=" font-family:'monospace'; font-size:9pt;">time</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> или </span><span style=" font-family:'monospace'; font-size:9pt;">timestamp</span><span style=" font-family:'Sans Serif'; font-size:9pt;">: с часовым поясом (</span><span style=" font-family:'monospace'; font-size:9pt;">time with time zone</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> и </span><span style=" font-family:'monospace'; font-size:9pt;">timestamp with time zone</span><span style=" font-family:'Sans Serif'; font-size:9pt;">) и без него (</span><span style=" font-family:'monospace'; font-size:9pt;">time without time zone</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> и </span><span style=" font-family:'monospace'; font-size:9pt;">timestamp without time zone</span><span style=" font-family:'Sans Serif'; font-size:9pt;">). Для краткости здесь они рассматриваются вместе. Кроме того, операторы </span><span style=" font-family:'monospace'; font-size:9pt;">+</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> и </span><span style=" font-family:'monospace'; font-size:9pt;">*</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> обладают переместительным свойством (например, date + integer = integer + date); здесь будет приведён только один вариант для каждой пары.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="operators-datetime-table"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Т</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">аблица 9.27. Операторы даты/времени</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans Serif'; font-size:9pt;"><br /></p>
<table border="1" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0"><thead>
<tr>
<td>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Оператор</span></p></td>
<td>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Пример</span></p></td>
<td>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Результат</span></p></td></tr></thead>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">+</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">date '2001-09-28' + integer '7'</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">date '2001-10-05'</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">+</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">date '2001-09-28' + interval '1 hour'</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp '2001-09-28 01:00:00'</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">+</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">date '2001-09-28' + time '03:00'</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp '2001-09-28 03:00:00'</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">+</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">interval '1 day' + interval '1 hour'</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">interval '1 day 01:00:00'</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">+</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp '2001-09-28 01:00' + interval '23 hours'</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp '2001-09-29 00:00:00'</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">+</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">time '01:00' + interval '3 hours'</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">time '04:00:00'</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">-</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">- interval '23 hours'</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">interval '-23:00:00'</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">-</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">date '2001-10-01' - date '2001-09-28'</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">integer '3'</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> (дня)</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">-</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">date '2001-10-01' - integer '7'</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">date '2001-09-24'</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">-</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">date '2001-09-28' - interval '1 hour'</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp '2001-09-27 23:00:00'</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">-</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">time '05:00' - time '03:00'</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">interval '02:00:00'</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">-</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">time '05:00' - interval '2 hours'</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">time '03:00:00'</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">-</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp '2001-09-28 23:00' - interval '23 hours'</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp '2001-09-28 00:00:00'</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">-</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">interval '1 day' - interval '1 hour'</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">interval '1 day -01:00:00'</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">-</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp '2001-09-29 03:00' - timestamp '2001-09-27 12:00'</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">interval '1 day 15:00:00'</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">*</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">900 * interval '1 second'</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">interval '00:15:00'</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">*</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">21 * interval '1 day'</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">interval '21 days'</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">*</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">double precision '3.5' * interval '1 hour'</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">interval '03:30:00'</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">/</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">interval '1 hour' / double precision '1.5'</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">interval '00:40:00'</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="functions-datetime-table"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Т</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">аблица 9.28. Функции даты/времени</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans Serif'; font-size:9pt;"><br /></p>
<table border="1" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0"><thead>
<tr>
<td>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Функция</span></p></td>
<td>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Тип результата</span></p></td>
<td>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Описание</span></p></td>
<td>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Пример</span></p></td>
<td>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Результат</span></p></td></tr></thead>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp14862"></a><span style=" font-family:'monospace'; font-size:9pt;">a</span><span style=" font-family:'monospace'; font-size:9pt;">ge(timestamp, timestamp)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">interval</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Вычитает аргументы и выдаёт «символический» результат с годами и месяцами, а не просто днями</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">age(timestamp '2001-04-10', timestamp '1957-06-13')</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">43 years 9 mons 27 days (43 года 9 месяцев 27 дней)</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">age(timestamp)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">interval</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Вычитает дату/время из </span><span style=" font-family:'monospace'; font-size:9pt;">current_date</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> (полночь текущего дня)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">age(timestamp '1957-06-13')</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">43 years 8 mons 3 days (43 года 8 месяцев 3 дня)</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp14891"></a><span style=" font-family:'monospace'; font-size:9pt;">c</span><span style=" font-family:'monospace'; font-size:9pt;">lock_timestamp()</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp with time zone</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Текущая дата и время (меняется в процессе выполнения операторов); см. </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-current"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Подраздел 9.9.4</span></a></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp14903"></a><span style=" font-family:'monospace'; font-size:9pt;">c</span><span style=" font-family:'monospace'; font-size:9pt;">urrent_date</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">date</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Текущая дата; см. </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-current"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Подраздел 9.9.4</span></a></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp14915"></a><span style=" font-family:'monospace'; font-size:9pt;">c</span><span style=" font-family:'monospace'; font-size:9pt;">urrent_time</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">time with time zone</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Текущее время суток; см. </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-current"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Подраздел 9.9.4</span></a></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp14927"></a><span style=" font-family:'monospace'; font-size:9pt;">c</span><span style=" font-family:'monospace'; font-size:9pt;">urrent_timestamp</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp with time zone</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Текущая дата и время (на момент начала транзакции); см. </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-current"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Подраздел 9.9.4</span></a></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp14939"></a><span style=" font-family:'monospace'; font-size:9pt;">d</span><span style=" font-family:'monospace'; font-size:9pt;">ate_part(text, timestamp)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">double precision</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Возвращает поле даты (равнозначно </span><span style=" font-family:'monospace'; font-size:9pt;">extract</span><span style=" font-family:'Sans Serif'; font-size:9pt;">); см. </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-extract"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Подраздел 9.9.1</span></a></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">date_part('hour', timestamp '2001-02-16 20:38:40')</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">20</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">date_part(text, interval)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">double precision</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Возвращает поле даты (равнозначно </span><span style=" font-family:'monospace'; font-size:9pt;">extract</span><span style=" font-family:'Sans Serif'; font-size:9pt;">); см. </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-extract"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Подраздел 9.9.1</span></a></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">date_part('month', interval '2 years 3 months')</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">3</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp14971"></a><span style=" font-family:'monospace'; font-size:9pt;">d</span><span style=" font-family:'monospace'; font-size:9pt;">ate_trunc(text, timestamp)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Отсекает компоненты даты до заданной точности; см. также </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-trunc"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Подраздел 9.9.2</span></a></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">date_trunc('hour', timestamp '2001-02-16 20:38:40')</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">2001-02-16 20:00:00</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">date_trunc(text, interval)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">interval</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Отсекает компоненты даты до заданной точности; см. также </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-trunc"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Подраздел 9.9.2</span></a></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">date_trunc('hour', interval '2 days 3 hours 40 minutes')</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">2 days 03:00:00</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp15001"></a><span style=" font-family:'monospace'; font-size:9pt;">e</span><span style=" font-family:'monospace'; font-size:9pt;">xtract(</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">field</span><span style=" font-family:'monospace'; font-size:9pt;"> from timestamp)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">double precision</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Возвращает поле даты; см. </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-extract"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Подраздел 9.9.1</span></a></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">extract(hour from timestamp '2001-02-16 20:38:40')</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">20</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">extract(</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">field</span><span style=" font-family:'monospace'; font-size:9pt;"> from interval)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">double precision</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Возвращает поле даты; см. </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-extract"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Подраздел 9.9.1</span></a></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">extract(month from interval '2 years 3 months')</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">3</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp15031"></a><span style=" font-family:'monospace'; font-size:9pt;">i</span><span style=" font-family:'monospace'; font-size:9pt;">sfinite(date)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">boolean</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Проверяет конечность даты (её отличие от +/-бесконечности)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">isfinite(date '2001-02-16')</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">true</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">isfinite(timestamp)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">boolean</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Проверяет конечность времени (его отличие от +/-бесконечности)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">isfinite(timestamp '2001-02-16 21:28:30')</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">true</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">isfinite(interval)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">boolean</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Проверяет конечность интервала</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">isfinite(interval '4 hours')</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">true</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp15069"></a><span style=" font-family:'monospace'; font-size:9pt;">j</span><span style=" font-family:'monospace'; font-size:9pt;">ustify_days(interval)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">interval</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Преобразует интервал так, что каждый 30-дневный период считается одним месяцем</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">justify_days(interval '35 days')</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">1 mon 5 days (1 месяц 5 дней)</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp15083"></a><span style=" font-family:'monospace'; font-size:9pt;">j</span><span style=" font-family:'monospace'; font-size:9pt;">ustify_hours(interval)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">interval</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Преобразует интервал так, что каждый 24-часовой период считается одним днём</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">justify_hours(interval '27 hours')</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">1 day 03:00:00 (1 день 03:00:00)</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp15097"></a><span style=" font-family:'monospace'; font-size:9pt;">j</span><span style=" font-family:'monospace'; font-size:9pt;">ustify_interval(interval)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">interval</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Преобразует интервал с применением </span><span style=" font-family:'monospace'; font-size:9pt;">justify_days</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> и </span><span style=" font-family:'monospace'; font-size:9pt;">justify_hours</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> и дополнительно корректирует знаки</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">justify_interval(interval '1 mon -1 hour')</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">29 days 23:00:00 (29 дней 23:00:00)</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp15113"></a><span style=" font-family:'monospace'; font-size:9pt;">l</span><span style=" font-family:'monospace'; font-size:9pt;">ocaltime</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">time</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Текущее время суток; см. </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-current"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Подраздел 9.9.4</span></a></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp15125"></a><span style=" font-family:'monospace'; font-size:9pt;">l</span><span style=" font-family:'monospace'; font-size:9pt;">ocaltimestamp</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Текущая дата и время (на момент начала транзакции); см. </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-current"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Подраздел 9.9.4</span></a></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp15137"></a><span style=" font-family:'monospace'; font-size:9pt;">m</span><span style=" font-family:'monospace'; font-size:9pt;">ake_date(</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">year</span><span style=" font-family:'monospace'; font-size:9pt;"> int, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">month</span><span style=" font-family:'monospace'; font-size:9pt;"> int, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">day</span><span style=" font-family:'monospace'; font-size:9pt;"> int) </span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">date</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Образует дату из полей: year (год), month (месяц) и day (день)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">make_date(2013, 7, 15)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">2013-07-15</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp15156"></a><span style=" font-family:'monospace'; font-size:9pt;">m</span><span style=" font-family:'monospace'; font-size:9pt;">ake_interval(</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">years</span><span style=" font-family:'monospace'; font-size:9pt;"> int DEFAULT 0, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">months</span><span style=" font-family:'monospace'; font-size:9pt;"> int DEFAULT 0, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">weeks</span><span style=" font-family:'monospace'; font-size:9pt;"> int DEFAULT 0, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">days</span><span style=" font-family:'monospace'; font-size:9pt;"> int DEFAULT 0, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">hours</span><span style=" font-family:'monospace'; font-size:9pt;"> int DEFAULT 0, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">mins</span><span style=" font-family:'monospace'; font-size:9pt;"> int DEFAULT 0, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">secs</span><span style=" font-family:'monospace'; font-size:9pt;"> double precision DEFAULT 0.0) </span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">interval</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Образует интервал из полей: years (годы), months (месяцы), weeks (недели), days (дни), hours (часы), minutes (минуты) и secs (секунды)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">make_interval(days =&gt; 10)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">10 days</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp15183"></a><span style=" font-family:'monospace'; font-size:9pt;">m</span><span style=" font-family:'monospace'; font-size:9pt;">ake_time(</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">hour</span><span style=" font-family:'monospace'; font-size:9pt;"> int, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">min</span><span style=" font-family:'monospace'; font-size:9pt;"> int, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">sec</span><span style=" font-family:'monospace'; font-size:9pt;"> double precision) </span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">time</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Образует время из полей: hour (час), minute (минута) и sec (секунда)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">make_time(8, 15, 23.5)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">08:15:23.5</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp15202"></a><span style=" font-family:'monospace'; font-size:9pt;">m</span><span style=" font-family:'monospace'; font-size:9pt;">ake_timestamp(</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">year</span><span style=" font-family:'monospace'; font-size:9pt;"> int, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">month</span><span style=" font-family:'monospace'; font-size:9pt;"> int, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">day</span><span style=" font-family:'monospace'; font-size:9pt;"> int, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">hour</span><span style=" font-family:'monospace'; font-size:9pt;"> int, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">min</span><span style=" font-family:'monospace'; font-size:9pt;"> int, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">sec</span><span style=" font-family:'monospace'; font-size:9pt;"> double precision) </span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Образует дату и время из полей: year (год), month (месяц), day (день), hour (час), minute (минута) и sec (секунда)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">make_timestamp(2013, 7, 15, 8, 15, 23.5)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">2013-07-15 08:15:23.5</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp15227"></a><span style=" font-family:'monospace'; font-size:9pt;">m</span><span style=" font-family:'monospace'; font-size:9pt;">ake_timestamptz(</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">year</span><span style=" font-family:'monospace'; font-size:9pt;"> int, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">month</span><span style=" font-family:'monospace'; font-size:9pt;"> int, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">day</span><span style=" font-family:'monospace'; font-size:9pt;"> int, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">hour</span><span style=" font-family:'monospace'; font-size:9pt;"> int, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">min</span><span style=" font-family:'monospace'; font-size:9pt;"> int, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">sec</span><span style=" font-family:'monospace'; font-size:9pt;"> double precision, [</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">timezone</span><span style=" font-family:'monospace'; font-size:9pt;"> text]) </span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp with time zone</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Образует дату и время с часовым поясом из полей: year (год), month (месяц), day (день), hour (час), minute (минута) и sec (секунда). Если параметр </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">timezone</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> (часовой пояс) не указан, используется текущий часовой пояс.</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">make_timestamptz(2013, 7, 15, 8, 15, 23.5)</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">2013-07-15 08:15:23.5+01</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp15256"></a><span style=" font-family:'monospace'; font-size:9pt;">n</span><span style=" font-family:'monospace'; font-size:9pt;">ow()</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp with time zone</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Текущая дата и время (на момент начала транзакции); см. </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-current"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Подраздел 9.9.4</span></a></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp15268"></a><span style=" font-family:'monospace'; font-size:9pt;">s</span><span style=" font-family:'monospace'; font-size:9pt;">tatement_timestamp()</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp with time zone</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Текущая дата и время (на момент начала текущего оператора); см. </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-current"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Подраздел 9.9.4</span></a></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp15280"></a><span style=" font-family:'monospace'; font-size:9pt;">t</span><span style=" font-family:'monospace'; font-size:9pt;">imeofday()</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">text</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Текущая дата и время (как </span><span style=" font-family:'monospace'; font-size:9pt;">clock_timestamp</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, но в виде строки типа </span><span style=" font-family:'monospace'; font-size:9pt;">text</span><span style=" font-family:'Sans Serif'; font-size:9pt;">); см. </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-current"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Подраздел 9.9.4</span></a></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp15294"></a><span style=" font-family:'monospace'; font-size:9pt;">t</span><span style=" font-family:'monospace'; font-size:9pt;">ransaction_timestamp()</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp with time zone</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Текущая дата и время (на момент начала транзакции); см. </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-current"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Подраздел 9.9.4</span></a></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="idp15305"></a><span style=" font-family:'Sans Serif'; font-size:9pt;">В</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> дополнение к этим функциям поддерживается SQL-оператор </span><span style=" font-family:'monospace'; font-size:9pt;">OVERLAPS</span><span style=" font-family:'Sans Serif'; font-size:9pt;">: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">(</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">начало1</span><span style=" font-family:'monospace'; font-size:9pt;">, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">конец1</span><span style=" font-family:'monospace'; font-size:9pt;">) OVERLAPS (</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">начало2</span><span style=" font-family:'monospace'; font-size:9pt;">, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">конец2</span><span style=" font-family:'monospace'; font-size:9pt;">)</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">(</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">начало1</span><span style=" font-family:'monospace'; font-size:9pt;">, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">длительность1</span><span style=" font-family:'monospace'; font-size:9pt;">) OVERLAPS (</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">начало2</span><span style=" font-family:'monospace'; font-size:9pt;">, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">длительность2</span><span style=" font-family:'monospace'; font-size:9pt;">)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Его результатом будет true, когда два периода времени (определённые своими границами) пересекаются, и false в противном случае. Границы периода можно задать либо в виде пары дат, времени или дат со временем, либо как дату, время (или дату со временем) c интервалом. Когда указывается пара значений, первым может быть и начало, и конец периода: </span><span style=" font-family:'monospace'; font-size:9pt;">OVERLAPS</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> автоматически считает началом периода меньшее значение. Периоды времени считаются наполовину открытыми, т. е. </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">начало</span><span style=" font-family:'monospace'; font-size:9pt;">&lt;=</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">время</span><span style=" font-family:'monospace'; font-size:9pt;">&lt;</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">конец</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, если только </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">начало</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> и </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">конец</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> не равны — в этом случае период представляет один момент времени. Это означает, например, что два периода, имеющие только общую границу, не будут считаться пересекающимися.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT (DATE '2001-02-16', DATE '2001-12-21') OVERLAPS</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">       (DATE '2001-10-30', DATE '2002-10-30');</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">true</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT (DATE '2001-02-16', INTERVAL '100 days') OVERLAPS</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">       (DATE '2001-10-30', DATE '2002-10-30');</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">false</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT (DATE '2001-10-29', DATE '2001-10-30') OVERLAPS</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">       (DATE '2001-10-30', DATE '2001-10-31');</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">false</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT (DATE '2001-10-30', DATE '2001-10-30') OVERLAPS</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">       (DATE '2001-10-30', DATE '2001-10-31');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">true</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">При добавлении к дате со временем типа </span><span style=" font-family:'monospace'; font-size:9pt;">timestamp with time zone</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> значения </span><span style=" font-family:'monospace'; font-size:9pt;">interval</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> (или при вычитании из него </span><span style=" font-family:'monospace'; font-size:9pt;">interval</span><span style=" font-family:'Sans Serif'; font-size:9pt;">), поле дней в этой дате увеличивается (или уменьшается) на указанное число дней. При пересечении границы перехода на летнее время (если в часовом поясе текущего сеанса производится этот переход) это означает, что </span><span style=" font-family:'monospace'; font-size:9pt;">interval '1 day'</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> и </span><span style=" font-family:'monospace'; font-size:9pt;">interval '24 hours'</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> не обязательно будут равны. Например, в часовом поясе </span><span style=" font-family:'monospace'; font-size:9pt;">CST7CDT</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> результатом выражения </span><span style=" font-family:'monospace'; font-size:9pt;">timestamp with time zone '2005-04-02 12:00-07' + interval '1 day' </span><span style=" font-family:'Sans Serif'; font-size:9pt;">будет </span><span style=" font-family:'monospace'; font-size:9pt;">timestamp with time zone '2005-04-03 12:00-06'</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, тогда как, если добавить </span><span style=" font-family:'monospace'; font-size:9pt;">interval '24 hours'</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> к тому же значению </span><span style=" font-family:'monospace'; font-size:9pt;">timestamp with time zone</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, в результате получится </span><span style=" font-family:'monospace'; font-size:9pt;">timestamp with time zone '2005-04-03 13:00-06'</span><span style=" font-family:'Sans Serif'; font-size:9pt;">. Эта разница объясняется тем, что </span><span style=" font-family:'monospace'; font-size:9pt;">2005-04-03 02:00</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> в часовом поясе </span><span style=" font-family:'monospace'; font-size:9pt;">CST7CDT</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> произошёл переход на летнее время.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Обратите внимание на возможную неоднозначность в поле </span><span style=" font-family:'monospace'; font-size:9pt;">months</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> в результате функции </span><span style=" font-family:'monospace'; font-size:9pt;">age</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, вызванную тем, что число дней в разных месяцах неодинаково. Вычисляя оставшиеся дни месяца, Postgres Pro рассматривает месяц меньшей из двух дат. Например, результатом </span><span style=" font-family:'monospace'; font-size:9pt;">age('2004-06-01', '2004-04-30')</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> будет </span><span style=" font-family:'monospace'; font-size:9pt;">1 mon 1 day</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, так как в апреле 30 дней, а то же выражение с датой 30 мая выдаст </span><span style=" font-family:'monospace'; font-size:9pt;">1 mon 2 days</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, так как в мае 31 день.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Вычитание дат и дат со временем также может быть нетривиальной операцией. Один принципиально простой способ выполнить такое вычисление — преобразовать каждое значение в количество секунд, используя </span><span style=" font-family:'monospace'; font-size:9pt;">EXTRACT(EPOCH FROM ...)</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, а затем найти разницу результатов; при этом будет получено число </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-style:italic;">секунд</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> между двумя датами. При этом будет учтено неодинаковое число дней в месяцах, изменения часовых поясов и переходы на летнее время. При вычитании дат или дат со временем с помощью оператора «</span><span style=" font-family:'monospace'; font-size:9pt;">-</span><span style=" font-family:'Sans Serif'; font-size:9pt;">» выдаётся число дней (по 24 часа) и часов/минут/секунд между данными значениями, с учётом тех же факторов. Функция </span><span style=" font-family:'monospace'; font-size:9pt;">age</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> возвращает число лет, месяцев, дней и часов/минут/секунд, выполняя вычитание по полям, а затем пересчитывая отрицательные значения. Различие этих подходов иллюстрируют следующие запросы. Показанные результаты были получены для часового пояса </span><span style=" font-family:'monospace'; font-size:9pt;">'US/Eastern'</span><span style=" font-family:'Sans Serif'; font-size:9pt;">; между двумя заданными датами произошёл переход на летнее время:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(EPOCH FROM timestamptz '2013-07-01 12:00:00') -</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">       EXTRACT(EPOCH FROM timestamptz '2013-03-01 12:00:00');</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">10537200</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT (EXTRACT(EPOCH FROM timestamptz '2013-07-01 12:00:00') -</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">        EXTRACT(EPOCH FROM timestamptz '2013-03-01 12:00:00'))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">        / 60 / 60 / 24;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">121.958333333333</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT timestamptz '2013-07-01 12:00:00' - timestamptz '2013-03-01 12:00:00';</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">121 days 23:00:00</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT age(timestamptz '2013-07-01 12:00:00', timestamptz '2013-03-01 12:00:00');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">4 mons</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="functions-datetime-extract"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">9</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">.9.1. </span><span style=" font-family:'monospace'; font-size:9pt; font-weight:600;">EXTRACT</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">, </span><span style=" font-family:'monospace'; font-size:9pt; font-weight:600;">date_part</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">EXTRACT(</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">field</span><span style=" font-family:'monospace'; font-size:9pt;"> FROM </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">source</span><span style=" font-family:'monospace'; font-size:9pt;">)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Функция </span><span style=" font-family:'monospace'; font-size:9pt;">extract</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> получает из значений даты/времени поля, такие как год или час. Здесь </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">источник</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> — значение типа </span><span style=" font-family:'monospace'; font-size:9pt;">timestamp</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, </span><span style=" font-family:'monospace'; font-size:9pt;">time</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> или </span><span style=" font-family:'monospace'; font-size:9pt;">interval</span><span style=" font-family:'Sans Serif'; font-size:9pt;">. (Выражения типа </span><span style=" font-family:'monospace'; font-size:9pt;">date</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> приводятся к типу </span><span style=" font-family:'monospace'; font-size:9pt;">timestamp</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, так что допускается и этот тип.) Указанное </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">поле</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> представляет собой идентификатор, по которому из источника выбирается заданное поле. Функция </span><span style=" font-family:'monospace'; font-size:9pt;">extract</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> возвращает значения типа </span><span style=" font-family:'monospace'; font-size:9pt;">double precision</span><span style=" font-family:'Sans Serif'; font-size:9pt;">. Допустимые поля: </span></p>
<p style=" margin-top:8px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">century</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Век:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(CENTURY FROM TIMESTAMP '2000-12-16 12:21:13');</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">20</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(CENTURY FROM TIMESTAMP '2001-02-16 20:38:40');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">21</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Первый век начался 0001-01-01 00:00:00, хотя люди в то время и не считали так. Это определение распространяется на все страны с григорианским календарём. Века с номером 0 нет было; считается, что 1 наступил после -1. Если такое положение вещей вас не устраивает, направляйте жалобы по адресу: Ватикан, Собор Святого Петра, Папе.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">day</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Для значений </span><span style=" font-family:'monospace'; font-size:9pt;">timestamp</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> это день месяца (1 - 31), для значений </span><span style=" font-family:'monospace'; font-size:9pt;">interval</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> — число дней</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(DAY FROM TIMESTAMP '2001-02-16 20:38:40');</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">16</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:9pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(DAY FROM INTERVAL '40 days 1 minute');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">40</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">decade</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Год, делённый на 10</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(DECADE FROM TIMESTAMP '2001-02-16 20:38:40');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">200</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">dow</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">День недели, считая с воскресенья (</span><span style=" font-family:'monospace'; font-size:9pt;">0</span><span style=" font-family:'Sans Serif'; font-size:9pt;">) до субботы (</span><span style=" font-family:'monospace'; font-size:9pt;">6</span><span style=" font-family:'Sans Serif'; font-size:9pt;">)</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(DOW FROM TIMESTAMP '2001-02-16 20:38:40');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">5</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Заметьте, что в </span><span style=" font-family:'monospace'; font-size:9pt;">extract</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> дни недели нумеруются не так, как в функции </span><span style=" font-family:'monospace'; font-size:9pt;">to_char(..., 'D')</span><span style=" font-family:'Sans Serif'; font-size:9pt;">.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">doy</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">День года (1 - 365/366)</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(DOY FROM TIMESTAMP '2001-02-16 20:38:40');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">47</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">epoch</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Для значений </span><span style=" font-family:'monospace'; font-size:9pt;">timestamp with time zone</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> это число секунд с 1970-01-01 00:00:00 UTC (может быть отрицательным); для значений </span><span style=" font-family:'monospace'; font-size:9pt;">date</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> и </span><span style=" font-family:'monospace'; font-size:9pt;">timestamp</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> это число секунд с 1970-01-01 00:00:00 по местному времени, а для </span><span style=" font-family:'monospace'; font-size:9pt;">interval</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> — общая длительность интервала в секундах</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(EPOCH FROM TIMESTAMP WITH TIME ZONE</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;"> '2001-02-16 20:38:40.12-08');</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">982384720.12</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:9pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(EPOCH FROM INTERVAL '5 days 3 hours');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">442800</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Преобразовать время эпохи назад, в значение дата/время можно так:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT TIMESTAMP WITH TIME ZONE 'epoch' + 982384720.12 * INTERVAL '1 second';</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">(Это преобразование осуществляет функция </span><span style=" font-family:'monospace'; font-size:9pt;">to_timestamp</span><span style=" font-family:'Sans Serif'; font-size:9pt;">.)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">hour</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Час (0 - 23)</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(HOUR FROM TIMESTAMP '2001-02-16 20:38:40');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">20</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">isodow</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">День недели, считая с понедельника (</span><span style=" font-family:'monospace'; font-size:9pt;">1</span><span style=" font-family:'Sans Serif'; font-size:9pt;">) до воскресенья (</span><span style=" font-family:'monospace'; font-size:9pt;">7</span><span style=" font-family:'Sans Serif'; font-size:9pt;">)</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(ISODOW FROM TIMESTAMP '2001-02-18 20:38:40');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">7</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Результат отличается от </span><span style=" font-family:'monospace'; font-size:9pt;">dow</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> только для воскресенья. Такая нумерация соответствует ISO 8601.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">isoyear</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Год по недельному календарю ISO 8601, в который попадает дата (неприменимо к интервалам)</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(ISOYEAR FROM DATE '2006-01-01');</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">2005</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(ISOYEAR FROM DATE '2006-01-02');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">2006</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Год по недельному календарю ISO начинается с понедельника недели, в которой оказывается 4 января, так что в начале января или в конце декабря год по ISO может отличаться от года по григорианскому календарю. Подробнее об этом рассказывается в описании поля </span><span style=" font-family:'monospace'; font-size:9pt;">week</span><span style=" font-family:'Sans Serif'; font-size:9pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Этого поля не было в PostgreSQL до версии 8.3.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">microseconds</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Значение секунд с дробной частью, умноженное на 1 000 000; заметьте, что оно включает и целые секунды</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(MICROSECONDS FROM TIME '17:12:28.5');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">28500000</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">millennium</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Тысячелетие</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(MILLENNIUM FROM TIMESTAMP '2001-02-16 20:38:40');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">3</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Годы 20 века относятся ко второму тысячелетию. Третье тысячелетие началось 1 января 2001 г.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">milliseconds</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Значение секунд с дробной частью, умноженное на 1 000; заметьте, что оно включает и целые секунды.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(MILLISECONDS FROM TIME '17:12:28.5');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">28500</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">minute</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Минуты (0 - 59)</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(MINUTE FROM TIMESTAMP '2001-02-16 20:38:40');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">38</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">month</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Для значений </span><span style=" font-family:'monospace'; font-size:9pt;">timestamp</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> это номер месяца в году (1 - 12), а для </span><span style=" font-family:'monospace'; font-size:9pt;">interval</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> — остаток от деления числа месяцев на 12 (в интервале 0 - 11)</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(MONTH FROM TIMESTAMP '2001-02-16 20:38:40');</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">2</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:9pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(MONTH FROM INTERVAL '2 years 3 months');</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">3</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:9pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(MONTH FROM INTERVAL '2 years 13 months');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">quarter</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Квартал года (1 - 4), к которому относится дата</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(QUARTER FROM TIMESTAMP '2001-02-16 20:38:40');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">second</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Секунды, включая дробную часть (0 - 59</span><a name="idp15561"></a><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#ftn.idp15561"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff; vertical-align:super;">[</span></a><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff; vertical-align:super;">7]</span><span style=" font-family:'Sans Serif'; font-size:9pt;">)</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(SECOND FROM TIMESTAMP '2001-02-16 20:38:40');</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">40</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:9pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(SECOND FROM TIME '17:12:28.5');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">28.5</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timezone</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Смещение часового пояса от UTC, представленное в секундах. Положительные значения соответствуют часовым поясам к востоку от UTC, а отрицательные — к западу. (Выражаясь технически точно, Postgres Pro использует UT1, так как секунды координации не учитываются.)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timezone_hour</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Поле часов в смещении часового пояса</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timezone_minute</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Поле минут в смещении часового пояса</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">week</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Номер недели в году по недельному календарю ISO 8601. По определению, недели ISO 8601 начинаются с понедельника, а первая неделя года включает 4 января этого года. Другими словами, первый четверг года всегда оказывается в 1 неделе этого года.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">В системе нумерации недель ISO первые числа января могут относиться к 52-ой или 53-ей неделе предыдущего года, а последние числа декабря — к первой неделе следующего года. Например, </span><span style=" font-family:'monospace'; font-size:9pt;">2005-01-01</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> относится к 53-ей неделе 2004 г., а </span><span style=" font-family:'monospace'; font-size:9pt;">2006-01-01</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> — к 52-ей неделе 2005 г., тогда как </span><span style=" font-family:'monospace'; font-size:9pt;">2012-12-31</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> включается в первую неделю 2013 г. Поэтому для получения согласованных результатов рекомендуется использовать поле </span><span style=" font-family:'monospace'; font-size:9pt;">isoyear</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> в паре с </span><span style=" font-family:'monospace'; font-size:9pt;">week</span><span style=" font-family:'Sans Serif'; font-size:9pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(WEEK FROM TIMESTAMP '2001-02-16 20:38:40');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">7</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">year</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Поле года. Учтите, что года </span><span style=" font-family:'monospace'; font-size:9pt;">0</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> не было, и это следует иметь в виду, вычитая из годов нашей эры годы до нашей эры.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT EXTRACT(YEAR FROM TIMESTAMP '2001-02-16 20:38:40');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:30px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">2001</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Функция </span><span style=" font-family:'monospace'; font-size:9pt;">extract</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> в основном предназначена для вычислительных целей. Функции форматирования даты/времени описаны в </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-formatting"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Разделе 9.8</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Функция </span><span style=" font-family:'monospace'; font-size:9pt;">date_part</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> эмулирует традиционный для Ingres эквивалент стандартной SQL-функции </span><span style=" font-family:'monospace'; font-size:9pt;">extract</span><span style=" font-family:'Sans Serif'; font-size:9pt;">: </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">date_part('</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">поле</span><span style=" font-family:'monospace'; font-size:9pt;">', </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">источник</span><span style=" font-family:'monospace'; font-size:9pt;">)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Заметьте, что здесь параметр </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">поле</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> должен быть строковым значением, а не именем. Функция </span><span style=" font-family:'monospace'; font-size:9pt;">date_part</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> воспринимает те же поля, что и </span><span style=" font-family:'monospace'; font-size:9pt;">extract</span><span style=" font-family:'Sans Serif'; font-size:9pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT date_part('day', TIMESTAMP '2001-02-16 20:38:40');</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">16</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:9pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT date_part('hour', INTERVAL '4 hours 3 minutes');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат:</span><span style=" font-family:'monospace'; font-size:9pt;">4</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="functions-datetime-trunc"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">9</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">.9.2. </span><span style=" font-family:'monospace'; font-size:9pt; font-weight:600;">date_trunc</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Функция </span><span style=" font-family:'monospace'; font-size:9pt;">date_trunc</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> работает подобно </span><span style=" font-family:'monospace'; font-size:9pt;">trunc</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> для чисел.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">date_trunc('</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">поле</span><span style=" font-family:'monospace'; font-size:9pt;">', </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">значение</span><span style=" font-family:'monospace'; font-size:9pt;">)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Здесь </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">значение</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> — это выражение типа </span><span style=" font-family:'monospace'; font-size:9pt;">timestamp</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> или </span><span style=" font-family:'monospace'; font-size:9pt;">interval</span><span style=" font-family:'Sans Serif'; font-size:9pt;">. (Значения типов </span><span style=" font-family:'monospace'; font-size:9pt;">date</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> и </span><span style=" font-family:'monospace'; font-size:9pt;">time</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> автоматически приводятся к типам </span><span style=" font-family:'monospace'; font-size:9pt;">timestamp</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> и </span><span style=" font-family:'monospace'; font-size:9pt;">interval</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, соответственно.) Параметр </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">поле</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> определяет, до какой точности обрезать переданное значение. Возвращаемое значение будет иметь тип </span><span style=" font-family:'monospace'; font-size:9pt;">timestamp</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> или </span><span style=" font-family:'monospace'; font-size:9pt;">interval</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> и все его значения, менее значимые, чем заданное поле, будут равны нулю (или единице, если это номер дня или месяца).</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Параметр </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">поле</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> может принимать следующие значения: </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">microseconds</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">milliseconds</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">second</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">minute</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">hour</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">day</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">week</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">month</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">quarter</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">year</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">decade</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">century</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">millennium</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Примеры: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT date_trunc('hour', TIMESTAMP '2001-02-16 20:38:40');</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат: </span><span style=" font-family:'monospace'; font-size:9pt;">2001-02-16 20:00:00</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:9pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT date_trunc('year', TIMESTAMP '2001-02-16 20:38:40');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат: </span><span style=" font-family:'monospace'; font-size:9pt;">2001-01-01 00:00:00</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="functions-datetime-zoneconvert"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">9</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">.9.3. </span><span style=" font-family:'monospace'; font-size:9pt; font-weight:600;">AT TIME ZONE</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Указание </span><span style=" font-family:'monospace'; font-size:9pt;">AT TIME ZONE</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> позволяет переводить дату/время </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-style:italic;">без часового пояса</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> в дату/время </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-style:italic;">с часовым поясом</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> и обратно, а также пересчитывать значения </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-style:italic;">времени</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> для различных часовых поясов. Все разновидности этого указания проиллюстрированы в </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#functions-datetime-zoneconvert-table"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Таблице 9.29</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="functions-datetime-zoneconvert-table"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Т</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">аблица 9.29. Разновидности </span><span style=" font-family:'monospace'; font-size:9pt; font-weight:600;">AT TIME ZONE</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans Serif'; font-size:9pt;"><br /></p>
<table border="1" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0"><thead>
<tr>
<td>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Выражение</span></p></td>
<td>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Тип результата</span></p></td>
<td>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Описание</span></p></td></tr></thead>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp without time zone AT TIME ZONE </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">часовой_пояс</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp with time zone</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Воспринимает заданное время </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-style:italic;">без указания часового пояса</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> как время в указанном часовом поясе</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp with time zone AT TIME ZONE </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">часовой_пояс</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timestamp without time zone</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Переводит данное значение timestamp </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-style:italic;">с часовым поясом</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> в другой часовой пояс, но не сохраняет информацию о нём в результате</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">time with time zone AT TIME ZONE </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">часовой_пояс</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">time with time zone</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Переводит данное время </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-style:italic;">с часовым поясом</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> в другой часовой пояс</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">В этих выражениях желаемый </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">часовой_пояс</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> можно задать либо в виде текстовой строки (например, </span><span style=" font-family:'monospace'; font-size:9pt;">'America/Los_Angeles'</span><span style=" font-family:'Sans Serif'; font-size:9pt;">), либо как интервал (например, </span><span style=" font-family:'monospace'; font-size:9pt;">INTERVAL '-08:00'</span><span style=" font-family:'Sans Serif'; font-size:9pt;">). В первом случае название часового пояса можно указать любым из способов, описанных в </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/datatype-datetime#datatype-timezones"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Подразделе 8.5.3</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Примеры (в предположении, что местный часовой пояс </span><span style=" font-family:'monospace'; font-size:9pt;">America/Los_Angeles</span><span style=" font-family:'Sans Serif'; font-size:9pt;">): </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT TIMESTAMP '2001-02-16 20:38:40' AT TIME ZONE 'America/Denver';</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат: </span><span style=" font-family:'monospace'; font-size:9pt;">2001-02-16 19:38:40-08</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:9pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT TIMESTAMP WITH TIME ZONE '2001-02-16 20:38:40-05' AT TIME ZONE 'America/Denver';</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат: </span><span style=" font-family:'monospace'; font-size:9pt;">2001-02-16 18:38:40</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:9pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT TIMESTAMP '2001-02-16 20:38:40-05' AT TIME ZONE 'Asia/Tokyo' AT TIME ZONE 'America/Chicago';</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат: </span><span style=" font-family:'monospace'; font-size:9pt;">2001-02-16 05:38:40</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">В первом примере для значения, заданного без часового пояса, указывается часовой пояс и полученное время выводится в текущем часовом поясе (заданном параметром </span><span style=" font-family:'monospace'; font-size:9pt;">TimeZone</span><span style=" font-family:'Sans Serif'; font-size:9pt;">). Во втором примере значение времени смещается в заданный часовой пояс и выдаётся без указания часового пояса. Этот вариант позволяет хранить и выводить значения с часовым поясом, отличным от текущего. В третьем примере время в часовом поясе Токио пересчитывается для часового пояса Чикаго. При переводе значений </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-style:italic;">времени</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> без даты в другие часовые пояса используются определения часовых поясов, действующие в данный момент.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Функция </span><span style=" font-family:'monospace'; font-size:9pt;">timezone(</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">часовой_пояс</span><span style=" font-family:'monospace'; font-size:9pt;">, </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">время</span><span style=" font-family:'monospace'; font-size:9pt;">)</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> равнозначна SQL-совместимой конструкции </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">время</span><span style=" font-family:'monospace'; font-size:9pt;"> AT TIME ZONE </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">часовой_пояс</span><span style=" font-family:'Sans Serif'; font-size:9pt;">.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="functions-datetime-current"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">9</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">.9.4. Текущая дата/время</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Postgres Pro предоставляет набор функций, результат которых зависит от текущей даты и времени. Все следующие функции соответствуют стандарту SQL и возвращают значения, отражающие время начала текущей транзакции: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">CURRENT_DATE</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">CURRENT_TIME</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">CURRENT_TIMESTAMP</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">CURRENT_TIME(</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">точность</span><span style=" font-family:'monospace'; font-size:9pt;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">CURRENT_TIMESTAMP(</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">точность</span><span style=" font-family:'monospace'; font-size:9pt;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">LOCALTIME</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">LOCALTIMESTAMP</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">LOCALTIME(</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">точность</span><span style=" font-family:'monospace'; font-size:9pt;">)</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">LOCALTIMESTAMP(</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">точность</span><span style=" font-family:'monospace'; font-size:9pt;">)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">CURRENT_TIME</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> и </span><span style=" font-family:'monospace'; font-size:9pt;">CURRENT_TIMESTAMP</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> возвращают время с часовым поясом. В результатах </span><span style=" font-family:'monospace'; font-size:9pt;">LOCALTIME</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> и </span><span style=" font-family:'monospace'; font-size:9pt;">LOCALTIMESTAMP</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> нет информации о часовом поясе.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">CURRENT_TIME</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, </span><span style=" font-family:'monospace'; font-size:9pt;">CURRENT_TIMESTAMP</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, </span><span style=" font-family:'monospace'; font-size:9pt;">LOCALTIME</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> и </span><span style=" font-family:'monospace'; font-size:9pt;">LOCALTIMESTAMP</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> могут принимать необязательный параметр точности, определяющий, до какого знака после запятой следует округлять поле секунд. Если этот параметр отсутствует, результат будет иметь максимально возможную точность.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Несколько примеров: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT CURRENT_TIME;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат: </span><span style=" font-family:'monospace'; font-size:9pt;">14:39:53.662522-05</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:9pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT CURRENT_DATE;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат: </span><span style=" font-family:'monospace'; font-size:9pt;">2001-12-23</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:9pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT CURRENT_TIMESTAMP;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат: </span><span style=" font-family:'monospace'; font-size:9pt;">2001-12-23 14:39:53.662522-05</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:9pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT CURRENT_TIMESTAMP(2);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат: </span><span style=" font-family:'monospace'; font-size:9pt;">2001-12-23 14:39:53.66-05</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; font-size:9pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT LOCALTIMESTAMP;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">Результат: </span><span style=" font-family:'monospace'; font-size:9pt;">2001-12-23 14:39:53.662522</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Так как эти функции возвращают время начала текущей транзакции, во время транзакции эти значения не меняются. Это считается не ошибкой, а особенностью реализации: цель такого поведения в том, чтобы в одной транзакции «текущее» время было одинаковым и для разных изменений в одной транзакций записывалась одна отметка времени.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Примечание</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">В других СУБД эти значения могут изменяться чаще.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">В Postgres Pro есть также функции, возвращающие время начала текущего оператора, а также текущее время в момент вызова функции. Таким образом, в Postgres Pro есть следующие функции, не описанные в стандарте SQL: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">transaction_timestamp()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">statement_timestamp()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">clock_timestamp()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">timeofday()</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">now()</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Функция </span><span style=" font-family:'monospace'; font-size:9pt;">transaction_timestamp()</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> равнозначна конструкции </span><span style=" font-family:'monospace'; font-size:9pt;">CURRENT_TIMESTAMP</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, но в её названии явно отражено, что она возвращает. Функция </span><span style=" font-family:'monospace'; font-size:9pt;">statement_timestamp()</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> возвращает время начала текущего оператора (более точно, время получения последнего командного сообщения от клиента). Функции </span><span style=" font-family:'monospace'; font-size:9pt;">statement_timestamp()</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> и </span><span style=" font-family:'monospace'; font-size:9pt;">transaction_timestamp()</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> возвращают одно и то же значение в первой команде транзакции, но в последующих их показания будут расходиться. Функция </span><span style=" font-family:'monospace'; font-size:9pt;">clock_timestamp()</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> возвращает фактическое текущее время, так что её значение меняется в рамках одной команды SQL. Функция </span><span style=" font-family:'monospace'; font-size:9pt;">timeofday()</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> существует в Postgres Pro по историческим причинам и, подобно </span><span style=" font-family:'monospace'; font-size:9pt;">clock_timestamp()</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, она возвращает фактическое текущее время, но представленное в виде форматированной строки типа </span><span style=" font-family:'monospace'; font-size:9pt;">text</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, а не значения </span><span style=" font-family:'monospace'; font-size:9pt;">timestamp with time zone</span><span style=" font-family:'Sans Serif'; font-size:9pt;">. Функция </span><span style=" font-family:'monospace'; font-size:9pt;">now()</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> — традиционный для Postgres Pro эквивалент функции </span><span style=" font-family:'monospace'; font-size:9pt;">transaction_timestamp()</span><span style=" font-family:'Sans Serif'; font-size:9pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Все типы даты/времени также принимают специальное буквальное значение </span><span style=" font-family:'monospace'; font-size:9pt;">now</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, подразумевающее текущую дату и время (тоже на момент начала транзакции). Таким образом, результат следующих трёх операторов будет одинаковым: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT CURRENT_TIMESTAMP;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT now();</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT TIMESTAMP 'now';  -- не подходит для DEFAULT</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Подсказка</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Третья форма не подходит для указания в качестве значения </span><span style=" font-family:'monospace'; font-size:9pt;">DEFAULT</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> при создании таблицы. Система преобразует </span><span style=" font-family:'monospace'; font-size:9pt;">now</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> в значение </span><span style=" font-family:'monospace'; font-size:9pt;">timestamp</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> в момент разбора константы, поэтому, когда будет вставляться значение по умолчанию, в соответствующем столбце окажется время создания таблицы! Первые две формы не будут вычисляться, пока не потребуется значение по умолчанию, так как это вызовы функции. Поэтому они дадут желаемый результат при добавлении строки в таблицу.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="functions-datetime-delay"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">9</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">.9.5. Задержка выполнения</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">В случае необходимости вы можете приостановить выполнение серверного процесса, используя следующие функции: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">pg_sleep(</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">сек</span><span style=" font-family:'monospace'; font-size:9pt;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">pg_sleep_for(interval)</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">pg_sleep_until(timestamp with time zone)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Функция </span><span style=" font-family:'monospace'; font-size:9pt;">pg_sleep</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> переводит процесс текущего сеанса в спящее состояние на указанное число секунд (</span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">сек</span><span style=" font-family:'Sans Serif'; font-size:9pt;">). Параметр </span><span style=" font-family:'monospace'; font-size:9pt; font-style:italic;">сек</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> имеет тип </span><span style=" font-family:'monospace'; font-size:9pt;">double precision</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, так что в нём можно указать и дробное число. Функция </span><span style=" font-family:'monospace'; font-size:9pt;">pg_sleep_for</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> введена для удобства, ей можно передать большие значения задержки в типе </span><span style=" font-family:'monospace'; font-size:9pt;">interval</span><span style=" font-family:'Sans Serif'; font-size:9pt;">. А </span><span style=" font-family:'monospace'; font-size:9pt;">pg_sleep_until</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> удобнее использовать, когда необходимо задать определённое время выхода из спящего состояния. Например: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT pg_sleep(1.5);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT pg_sleep_for('5 minutes');</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:9pt;">SELECT pg_sleep_until('tomorrow 03:00');</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Примечание</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Действительное разрешение интервала задержки зависит от платформы; обычно это 0.01. Фактическая длительность задержки не будет меньше указанного времени, но может быть больше, в зависимости, например от нагрузки на сервер. В частности, не гарантируется, что </span><span style=" font-family:'monospace'; font-size:9pt;">pg_sleep_until</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> проснётся именно в указанное время, но она точно не проснётся раньше.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Предупреждение</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">Прежде чем вызывать </span><span style=" font-family:'monospace'; font-size:9pt;">pg_sleep</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> или её вариации, убедитесь в том, что в текущем сеансе нет ненужных блокировок. В противном случае в состояние ожидания могут перейти и другие сеансы, так что это отразится на системе в целом.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<hr />
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="ftn.idp15561"></a><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-datetime#idp15561"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff; vertical-align:super;">[</span></a><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff; vertical-align:super;">7] </span><span style=" font-family:'Sans Serif'; font-size:9pt;">60, если операционная система поддерживает секунды координации</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans Serif'; font-size:9pt;"><br /></p>
<hr />
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="2" cellpadding="0">
<tr>
<td width="40%">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-formatting"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Пред.</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p></td>
<td width="20%">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Наверх</span></a></p></td>
<td width="40%">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span><a href="https://postgrespro.ru/docs/postgrespro/9.5/functions-enum"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">След.</span></a></p></td></tr>
<tr>
<td style=" vertical-align:top;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;">9.8. Функции форматирования данных </span></p></td>
<td>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/docs/postgrespro/9.5/index"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Начало</span></a></p></td>
<td style=" vertical-align:top;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"> 9.10. Функции для перечислений</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1607672159s4lm7ehyl8.png" /><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Layer_1"></a><span style=" font-family:'Sans Serif'; font-size:9pt;">©</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> Postgres Pro </span></p>
<p style=" margin-top:30px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image16076721592td64uqr4u.png" /><a href="http://sk.ru"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;"><br />Резидент Сколково</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p>
<p style=" margin-top:30px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/privacy"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Политика кофиденциальности</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><a href="https://postgrespro.ru/products/postgrespro/eula"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Лицензионное соглашение</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><a href="https://postgrespro.ru/media/RUS_EULA_for_cloud_Postgres_Pro_Standard_Postgres_Pro_Enterprise.pdf"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Лицензионное соглашение (при использовании в составе облачных сервисов)</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Продукты </li>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 2;"><li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/products/postgrespro/standard"><span style=" text-decoration: underline; color:#0000ff;">Postgres Pro Standard</span></a> </li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/products/postgrespro/certified"><span style=" text-decoration: underline; color:#0000ff;">Postgres Pro Certified</span></a> </li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/products/postgrespro/enterprise"><span style=" text-decoration: underline; color:#0000ff;">Postgres Pro Enterprise</span></a> </li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/products/postgrespro/enterprisecertified"><span style=" text-decoration: underline; color:#0000ff;">Postgres Pro Enterprise Certified</span></a> </li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/products/1c"><span style=" text-decoration: underline; color:#0000ff;">Postgres Pro для 1С</span></a> </li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/windows"><span style=" text-decoration: underline; color:#0000ff;">PostgreSQL для Windows</span></a> </li></ul>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Образование </li>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 2;"><li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/docs"><span style=" text-decoration: underline; color:#0000ff;">Документация</span></a> </li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/education/courses"><span style=" text-decoration: underline; color:#0000ff;">Учебные курсы</span></a> </li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/education/books"><span style=" text-decoration: underline; color:#0000ff;">Книги</span></a> </li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/education/cert"><span style=" text-decoration: underline; color:#0000ff;">Сертификация специалистов</span></a> </li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/education/university"><span style=" text-decoration: underline; color:#0000ff;">Курсы для вузов</span></a> </li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/education"><span style=" text-decoration: underline; color:#0000ff;">Обучение PostgreSQL</span></a> </li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/education/glossary"><span style=" text-decoration: underline; color:#0000ff;">Глоссарий</span></a> </li></ul>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Услуги </li></ul>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 2;"><li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/services/support"><span style=" text-decoration: underline; color:#0000ff;">Техподдержка СУБД</span></a> </li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/services/migration"><span style=" text-decoration: underline; color:#0000ff;">Миграция СУБД</span></a> </li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://postgrespro.ru/services/audit"><span style=" text-decoration: underline; color:#0000ff;">Аудит СУБД</span></a> </li></ul></body></html>