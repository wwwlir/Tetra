<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Сдаваемая площадь в определенный период по объекту недвижимости контрагента:</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">select max(r.contragentRealEstate.calculationAmount) - sum(r.areaInRent) from rtneo$RealEstateRenter r where r.contragentRealEstate.id = '37ae0187-b29b-93d3-462d-81aed473e17a' and (r.renterRecord.validityFrom &lt;= '2019-10-01' and r.renterRecord.validityTo &gt;= '2019-10-31')</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Сданная площадь по всем объектам контрагента</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">select sum(r.areaInRent) from rtneo$RealEstateRenter r where r.contragentRealEstate.contragent.id = 'eaf6e7c9-1ddf-d1ce-f88c-462c60de04b9' and (r.renterRecord.validityFrom &lt;= '2019-10-01' and r.renterRecord.validityTo &gt;= '2019-10-31') group by r.contragentRealEstate</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-weight:600;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Сданная площадь по всем объектам контрагента с группировкой по кад номеру</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">select r.contragentRealEstate.realEstate.cadastralNumber, sum(r.areaInRent) from rtneo$RealEstateRenter r where r.contragentRealEstate.contragent.id = 'eaf6e7c9-1ddf-d1ce-f88c-462c60de04b9' and (r.renterRecord.validityFrom &lt;= '2019-10-01' and r.renterRecord.validityTo &gt;= '2019-10-31') group by r.contragentRealEstate.realEstate.cadastralNumber</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Оставшаяся площадь контрагента с группировкой по кад номерам</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">select r.contragentRealEstate.realEstate.cadastralNumber, max(r.contragentRealEstate.calculationAmount) - sum(r.areaInRent) from rtneo$RealEstateRenter r where r.contragentRealEstate.contragent.id = 'eaf6e7c9-1ddf-d1ce-f88c-462c60de04b9' and (r.renterRecord.validityFrom &lt;= '2019-10-01' and r.renterRecord.validityTo &gt;= '2019-10-31') group by r.contragentRealEstate.realEstate.cadastralNumber</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">оставшаяся площадь по всем объектам контрагента</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">select (select sum(c.calculationAmount) from rtneo$ContragentRealEstate c where c.contragent.id = 'eaf6e7c9-1ddf-d1ce-f88c-462c60de04b9') - sum(r.areaInRent) from rtneo$RealEstateRenter r where r.contragentRealEstate.contragent.id = 'eaf6e7c9-1ddf-d1ce-f88c-462c60de04b9' and (r.renterRecord.validityFrom &lt;= '2019-10-01' and r.renterRecord.validityTo &gt;= '2019-10-31')</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'FreeMono'; font-weight:600; color:#6a1009;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'FreeMono'; font-weight:600; color:#6a1009;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans Mono'; color:#a9b7c6; background-color:#2b2b2b;">HashMap&lt;String</span><span style=" font-family:'DejaVu Sans Mono'; color:#cc7832;">, </span><span style=" font-family:'DejaVu Sans Mono'; color:#a9b7c6;">BigDecimal&gt; n = </span><span style=" font-family:'DejaVu Sans Mono'; color:#cc7832;">new </span><span style=" font-family:'DejaVu Sans Mono'; color:#a9b7c6;">HashMap&lt;&gt;()</span><span style=" font-family:'DejaVu Sans Mono'; color:#cc7832;">;<br /></span><span style=" font-family:'DejaVu Sans Mono'; color:#a9b7c6;">ArrayList a = </span><span style=" font-family:'DejaVu Sans Mono'; color:#cc7832;">new </span><span style=" font-family:'DejaVu Sans Mono'; color:#a9b7c6;">ArrayList()</span><span style=" font-family:'DejaVu Sans Mono'; color:#cc7832;">;<br />for </span><span style=" font-family:'DejaVu Sans Mono'; color:#a9b7c6;">(RealEstateRenter renter : renters) {<br />    n.put()<br />    a.add(renter.getAreaInRent())</span><span style=" font-family:'DejaVu Sans Mono'; color:#cc7832;">;<br /></span><span style=" font-family:'DejaVu Sans Mono'; color:#a9b7c6;">}<br /></span><span style=" font-family:'DejaVu Sans Mono'; color:#cc7832;">return </span><span style=" font-family:'DejaVu Sans Mono'; color:#a9b7c6;">a</span><span style=" font-family:'DejaVu Sans Mono'; color:#cc7832;">;</span></p></body></html>