<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Дата добавления: 31 марта 2012<br /><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">XRandR — расширение X сервера, позволяющее производить настройки режимов работы мониторов. Например, можно изменить разрешение, вывести изображение на внешний монитор, повернуть изображение и тому подобное. Утилита часто полезна для настройки корректного разрешения при подключении к внешнему монитору или телевизору.<br /><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="yandex_rtb_R-A-59044-5"></a><br /><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Вывод доступных мониторов и режимов</span><br />Введя в терминале </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">xrandr, мы увидим список интерфейсов по которым могут быть подключены мониторы и доступные режимы работы монитора (разрешение и частота смена кадров в герцах).<br />Пример вывода:<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Screen 0: minimum 320 x 200, current 1024 x 600, maximum 4096 x 4096<br />LVDS1 connected 1024x600+0+0 (normal left inverted right x axis y axis) 223mm x 125mm<br />1024x600 60.0*+<br />800x600 60.3 56.2 <br />640x480 59.9 <br />VGA1 disconnected (normal left inverted right x axis y axis)</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />Возможные названия интерфейсов:<br /><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">LVDS1</span> — экран ноутбука;</li>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><br /></p>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">VGA1</span> — экран, подключаемый через VGA;</li>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><br /></p>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">DVI1</span> — экран, подключаемый через DVI;</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />Названия интерфейсов могут отличаться в зависимости от используемой видеокарты. Для последующей работы с конкретным интерфейсом, необходимо запомнить его название (например, <span style=" font-weight:600;">VGA1</span> если мы работам на видео от Intel и подключаем монитор по VGA, который и хотим настроить через XRandR).<br /><br /><span style=" font-weight:600;">Изменение разрешения</span><br />Лучше всего рассмотреть пример:<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">xrandr --output LVDS1 --mode 800x600<br />Опция <span style=" font-weight:600;">--output</span> предназначена для указания на нужный интерфейс, а <span style=" font-weight:600;">--mode</span> собственно на выбираемый режим работы. Обратите внимание, что выбираемый режим должен быть указан в выводе команды </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">xrandr (смотреть предыдущий раздел статьи).<br />Если нужный вам режим не прописан, то необходимо добавить его вручную. Это позволяет <span style=" font-weight:600;">настроить монитор на правильное разрешение, при ситуации, когда в списке оно отсутствует</span> (например, если при подключении 1080p монитора в программах настройки экрана доступно лишь намного меньшее разрешение). Данная проблема связана с тем, что некоторые мониторы и множество телевизоров почему-то не считают нужным передавать информацию о своём разрешении при подключении через VGA.<br /><span style=" font-weight:600;">Создание нового режима</span><br />Если режим уже существует (смотреть первую часть статьи), но не связан с нужным интерфейсом, то можно добавить режим таким образом:<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">xrandr --addmode VGA1 1024x600 — добавляем режим с разрешением 1024x600 и 60 Гц частотой для монитора, подключённого по VGA1.<br />Если режима ещё не существует, то сначала вызываем утилиту <span style=" font-weight:600;">CVT</span> (Coordinated Video Timing) с необходимым разрешением и частотой кадров в качестве параметров (в качестве примера добавим режим 1600x900 при 60Гц):<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">cvt 1600 900 60<br />Вывод утилиты cvt с нашими параметрами таков:<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"># 1600x900 59.95 Hz (CVT 1.44M9) hsync: 55.99 kHz; pclk: 118.25 MHz<br />Modeline &quot;1600x900_60.00&quot; 118.25 1600 1696 1856 2112 900 903 908 934 -hsync +vsync</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />Далее мы скопируем всё, что после <span style=" font-weight:600;">Modeline</span> при вызове xrandr с ключём создания нового режима:<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">xrandr --newmode &quot;1600x900_60.00&quot; 118.25 1600 1696 1856 2112 900 903 908 934 -hsync +vsync<br />Теперь осталось &quot;привязать&quot; созданный режим к нужному интерфейсу (в нашем примере к VGA1):<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">xrandr --addmode VGA1 1600x900_60.00<br />Наконец, мы можем выбрать нужное нам разрешение для монитора:<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">xrandr --output VGA1 --mode 1600x900_60.00<br /><br /><span style=" font-weight:600;">Режимы работы с несколькими мониторами</span><br /><span style=" font-weight:600;">Отключение дисплея</span><br />Отключить не нужный в данный момент дисплей можно с помощью опции <span style=" font-weight:600;">--off</span>:<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">xrandr --output LVDS1 --off — отключаем монитор ноутбука.<br /><span style=" font-weight:600;">Расположение мониторов относительно друг-друга</span><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">xrandr --output VGA1 --right-of LVDS1 — монитор, подключённый по VGA1 будет располагаться &quot;справа&quot; от монитора ноутбука (переходить на внешний монитор необходимо будет через правый угол монитора ноутбука).<br />Аналогично используется опция --left-of<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">xrandr --output LVDS1 --primary — монитор ноутбука становится основным.<br />Чтобы сделать виртуальный экран большего разрешения, чем физический (в таком режиме, чтобы увидеть всё изображение необходимо будет передвигать курсор за границы) применяем команду:<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">xrandr --output LVDS1 --mode 1024x600 --fb 1280x720 --panning 1280x720<br />После этого у вас будет виртуальное разрешение 1280x720 при 1024x600 физическом.<br /><br /><span style=" font-weight:600;">Поворот</span><br />Используйте следующие опции применительно к нужному интерфейсу:<br /><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">--rotate normal</li>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><br /></p>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">--rotate left</li>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><br /></p>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">--rotate right</li>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><br /></p>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">--rotate inverted (поворот на 180°)</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /><br /><span style=" font-weight:600;">Сохранение настроек</span><br />Для активации необходимых настроек при старте, создайте файл ~/.xprofile (~/ указывает на расположение в домашней директории) и внесите в него необходимые строки команд xrandr.<br /><br />Статья частично основана по материалам <a href="https://wiki.ubuntu.com/X/Config/Resolution"><span style=" text-decoration: underline; color:#0000ff;">англоязычной документации</span></a>.</p></body></html>